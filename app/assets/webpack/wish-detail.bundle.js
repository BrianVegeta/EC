webpackJsonp([84],{1542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(159),a=n(77),r=n(356),u=n(2237),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){return{environment:e.environment,auth:e.auth,wishDetail:e.wishDetail}},d=function(e,t){var n=t.params;return{dispatchRecord:function(){return e((0,r.fetchRecord)(n.id))},dispatchReset:function(){return e((0,r.reset)())},dispatchAddToChatRoom:function(t){var n=t.uid,o=t.name,a=t.picture;e((0,i.addToChatRoom)({uid:n,name:o,picture:a}))},dispatchRedirectToLogin:function(){e((0,a.redirectToLogin)())}}};t.default=(0,o.connect)(c,d)(s.default)},2237:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(232),s=o(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),l=o(d),f=n(3),p=o(f),m=n(132),h=n(18),y=n(108),_=o(y),g=n(109),v=o(g),b=n(23),E=n(2),w=n(5),R=o(w),N=n(2345),M=o(N),C=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEdit=n.onEdit.bind(n),n}return r(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.dispatchRecord()}},{key:"componentWillUnmount",value:function(){this.props.dispatchReset()}},{key:"onEdit",value:function(){var e=this.props.wishDetail.id;b.browserHistory.push(E.publishWishRouter.indexPath(e))}},{key:"render",value:function(){var e=this.props,t=e.dispatchAddToChatRoom,n=e.dispatchRedirectToLogin,o=e.wishDetail,i=o.picture,a=o.userImg,r=o.userName,u=o.pname,c=o.expprice,d=o.categoryName,f=o.city,p=o.description,y=o.create_time,g=o.uid,b=e.auth,E=b.isLogin,w=b.currentUser;return l.default.createElement("div",{styleName:"container"},l.default.createElement("div",{styleName:"wishContent"},i&&l.default.createElement("div",{styleName:"picture"},l.default.createElement(_.default,{src:i})),l.default.createElement("div",{styleName:"title"},u),l.default.createElement("div",{styleName:"price"},"預算：",(0,m.formatCurrency)(c)),l.default.createElement("div",{styleName:"category"},"分類：",d),l.default.createElement("div",{styleName:"city"},"所在城市：",f),l.default.createElement("div",{styleName:"content"},p)),l.default.createElement("div",{styleName:"wishFooter"},l.default.createElement("div",{styleName:"image"},l.default.createElement(v.default,{src:a})),l.default.createElement("div",{styleName:"content"},l.default.createElement("div",{styleName:"title"},(0,s.default)(r,{length:15})),l.default.createElement("div",{styleName:"hour"},(0,h.fromNow)(y))),l.default.createElement("div",{styleName:"sendMessage"},E&&w.uid===g?l.default.createElement("button",{className:"button",styleName:"editMessageButton",onClick:this.onEdit},"編輯"):l.default.createElement("button",{className:"button",styleName:"sendMessageButton",onClick:E?function(){t({uid:g,name:r,picture:a})}:n},"私訊"))))}}]),t}(l.default.Component);C.propTypes={wishDetail:p.default.shape({id:p.default.number,pname:p.default.string,description:p.default.string,city:p.default.string,area:p.default.string,expprice:p.default.number,expcurrency:p.default.string,expday:p.default.number,picture:p.default.string,catId:p.default.string,categoryName:p.default.string,userImg:p.default.string,userName:p.default.string,uid:p.default.string}).isRequired,dispatchRecord:p.default.func.isRequired,dispatchReset:p.default.func.isRequired,dispatchRedirectToLogin:p.default.func.isRequired,dispatchAddToChatRoom:p.default.func.isRequired,auth:p.default.shape({isLogin:p.default.bool.isRequired,currentUser:p.default.object}).isRequired},t.default=(0,R.default)(C,M.default)},2345:function(e,t){e.exports={container:"components_container_32dlJ",wishContent:"components_wishContent_1Ye0s",close:"components_close_nHDwE",picture:"components_picture_3MRQU",title:"components_title_kyjue",price:"components_price_3qztD",category:"components_category_3Mbya",city:"components_city_29X9w",content:"components_content_1fs47",wishFooter:"components_wishFooter_2PAAz",image:"components_image_Q45vF",hour:"components_hour_2JqC0",sendMessage:"components_sendMessage_1WKsP",editMessageButton:"components_editMessageButton_kf2Gt",sendMessageButton:"components_sendMessageButton_2h-MF"}}});