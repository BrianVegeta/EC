webpackJsonp([6],{1470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=n(23),o=n(2),i=n(2158),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(325),c=n(1769),s=o.publishGoodsRouter.deliveryPath,f=o.publishGoodsRouter.pricePath,d=function(e){var t=e.environment,n=e.publish;return{environment:t,publish:n,isValid:(0,c.validateDeliveryBy)(n).isValid}},p=function(e,t){var n=t.location.query,r=n.pid;return{dispatchChangeData:function(t){return e((0,l.changeData)(t))},dispatchValidate:function(){return e((0,c.validateDelivery)())},dispatchTouchPath:function(){return e((0,l.touchPath)(s(r)))},nextStep:function(){return a.browserHistory.push(f(r))}}};t.default=(0,r.connect)(d,p)(u.default)},1492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=n(23),o=n(2),i=n(2180),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(327),c=n(1893),s=o.publishUsedGoodsRouter.deliveryPath,f=o.publishUsedGoodsRouter.confirmPath,d=function(e){var t=e.environment,n=e.publish;return{environment:t,publish:n,isValid:(0,c.validateDeliveryBy)(n).isValid}},p=function(e,t){var n=t.location.query,r=n.pid;return{dispatchChangeData:function(t){return e((0,l.changeData)(t))},dispatchValidate:function(){return e((0,c.validateDelivery)())},dispatchTouchPath:function(){return e((0,l.touchPath)(s(r)))},nextStep:function(){return a.browserHistory.push(f(r))}}};t.default=(0,r.connect)(d,p)(u.default)},1530:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_VALID=t.STATUS_LOADING=t.STATUS_DISABLE=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),s=r(c),f=n(3),d=r(f),p=n(521),h=r(p),y=n(15),m=r(y),v=n(5),b=r(v),_=n(1535),g=r(_),w=t.STATUS_DISABLE="STATUS_DISABLE",C=t.STATUS_LOADING="STATUS_LOADING",E=t.STATUS_VALID="STATUS_VALID",O=m.default.bind(g.default),k=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e,t=this.props,n=t.status,r=t.onClick,o=t.text;return(e={},a(e,w,this.constructor.renderDisable({onClick:r,text:o})),a(e,C,this.constructor.renderLoading()),a(e,E,this.constructor.renderValid({onClick:r,text:o})),e)[n]}}],[{key:"renderDisable",value:function(e){var t=e.onClick,n=e.text,r="button "+O("button","disabled");return s.default.createElement("button",{className:r,onClick:t},n)}},{key:"renderLoading",value:function(){var e=s.default.createElement("div",{styleName:"loading-icon"},s.default.createElement(h.default,{size:9,color:"#B8B8B8"})),t="button "+O("button","disabled");return s.default.createElement("button",{className:t},e,"儲存中")}},{key:"renderValid",value:function(e){var t=e.onClick,n=e.text,r="button "+O("button","active");return s.default.createElement("button",{className:r,onClick:t},n)}}]),t}(s.default.Component);k.defaultProps={text:"下一步",status:w},k.propTypes={text:d.default.string.isRequired,status:d.default.oneOf([w,C,E]),onClick:d.default.func.isRequired},t.default=(0,b.default)(k,g.default)},1531:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(13),p=r(d),h=n(5),y=r(h),m=n(1536),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.helperText,r=e.optional,a=e.children;return c.default.createElement("div",{styleName:"container"},c.default.createElement("div",{styleName:"title-container"},c.default.createElement("h2",{styleName:"title"},t,r&&c.default.createElement("span",{styleName:"titleHelper"},"（非必填）")),n&&c.default.createElement("span",{styleName:"helper"},n)),a)}}]),t}(c.default.Component);b.defaultProps={helperText:null,optional:!1},b.propTypes={children:p.default.children.isRequired,title:f.default.string.isRequired,helperText:f.default.string,optional:f.default.bool},t.default=(0,y.default)(b,v.default)},1535:function(e,t){e.exports={button:"NextStep_button_e8To5",active:"NextStep_active_2uSyl",disabled:"NextStep_disabled_dCatW","loading-icon":"NextStep_loading-icon_1tLMz"}},1536:function(e,t){e.exports={container:"FormContainer_container_2PVcv","title-container":"FormContainer_title-container_2qfVb",title:"FormContainer_title_1cLV5",titleHelper:"FormContainer_titleHelper_1Diqs",helper:"FormContainer_helper_1uffx"}},1566:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),f=r(s),d=n(0),p=r(d),h={thousandSeparator:f.default.oneOfType([f.default.string,f.default.bool]),decimalSeparator:f.default.oneOfType([f.default.string,f.default.bool]),decimalPrecision:f.default.oneOfType([f.default.number,f.default.bool]),displayType:f.default.oneOf(["input","text"]),prefix:f.default.string,suffix:f.default.string,format:f.default.oneOfType([f.default.string,f.default.func]),mask:f.default.string,value:f.default.oneOfType([f.default.number,f.default.string]),customInput:f.default.func,allowNegative:f.default.bool,onKeyDown:f.default.func,onChange:f.default.func},y={displayType:"input",decimalSeparator:".",decimalPrecision:!1,allowNegative:!0},m=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.formatInput(e.value).formattedValue},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return i(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:this.formatInput(e.value).formattedValue})}},{key:"getSeparators",value:function(){var e=this.props,t=e.thousandSeparator,n=e.decimalSeparator;return!0===t&&(t=","),n&&t&&"string"!=typeof n&&(n="."===t?",":"."),"."===t&&(n=","),!0===n&&(n="."),{decimalSeparator:n,thousandSeparator:t}}},{key:"getNumberRegex",value:function(e,t){var n=this.props.format,r=this.getSeparators(),a=r.decimalSeparator;return new RegExp("\\d"+(!a||t||n?"":"|"+u(a)),e?"g":void 0)}},{key:"setCaretPosition",value:function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}},{key:"formatWithPattern",value:function(e){var t=this.props,n=t.format,r=t.mask;if(!n)return e;for(var a=n.split("#").length-1,o=0,i=n,u=0,l=e.length;u<l;u++)u<a&&(o=i.indexOf("#"),i=i.replace("#",e[u]));var c=i.lastIndexOf("#");return r?i.replace(/#/g,r):i.substring(0,o+1)+(-1!==c?i.substring(c+1,i.length):"")}},{key:"formatInput",value:function(e){var t=this.props,n=t.prefix,r=t.suffix,a=(t.mask,t.format),o=t.allowNegative,i=t.decimalPrecision,u=this.getSeparators(),l=u.thousandSeparator,c=u.decimalSeparator,s=this.getNumberRegex(!0),f=void 0,d=void 0;"number"==typeof e&&(e+="");var p=new RegExp("(-)"),h=new RegExp("(-)(.)*(-)");o&&!a&&(f=p.test(e),d=h.test(e));var y=e&&e.match(s);if(!y&&d)return{value:"",formattedValue:""};if(!y&&f)return{value:"",formattedValue:"-"};if(!y)return{value:"",formattedValue:""};var m=e.match(s).join(""),v=m;if(a)"string"==typeof a?v=this.formatWithPattern(v):"function"==typeof a&&(v=a(v));else{var b=v,_="",g=-1!==v.indexOf(c)||!1!==i;if(c&&g){var w=void 0;if(!1!==i){var C=!0===i?2:i;"."!==c?(w=parseFloat(v.replace(c,".")).toFixed(C),w=w.replace(".",c)):w=parseFloat(v).toFixed(C),w=w.split(c)}else w=v.split(c);b=w[0],_=w[1]}l&&(b=b.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l)),n&&(b=n+b),r&&(_+=r),f&&!d&&(b="-"+b),v=b+(g&&c||"")+_}return{value:(f&&!d?"-":"")+v.match(s).join(""),formattedValue:v}}},{key:"getCursorPosition",value:function(e,t,n){var r=this.getNumberRegex(),a=void 0,o=void 0;for(a=0,o=0;o<n;o++)if(e[o].match(r)||e[o]===t[a]){for(;e[o]!==t[a]&&a<t.length;)a++;a++}return a}},{key:"onChangeHandler",value:function(e,t){var n=this;e.persist();var r=e.target,a=r.value,o=this.formatInput(a),i=o.formattedValue,u=o.value,l=r.selectionStart;return this.setState({value:i},function(){l=n.getCursorPosition(a,i,l),n.setCaretPosition(r,l),setTimeout(function(){return n.setCaretPosition(r,l)},0),t&&t(e,u)}),u}},{key:"onChange",value:function(e){this.onChangeHandler(e,this.props.onChange)}},{key:"onKeyDown",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,a=t.value,o=this.props.decimalPrecision,i=e.key,u=this.getNumberRegex(!1,!1!==o),l=new RegExp("-");if(r-n==0)if("Delete"!==i||u.test(a[n])||l.test(a[n])){if("Backspace"===i&&!u.test(a[n-1])&&!l.test(a[n-1])){e.preventDefault();for(var c=n;!u.test(a[c-1])&&c>0;)c--;this.setCaretPosition(t,c)}}else{e.preventDefault();for(var s=n;!u.test(a[s])&&s<a.length;)s++;this.setCaretPosition(t,s)}this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){var e=l({},this.props);Object.keys(h).forEach(function(t){delete e[t]});var t=l({},e,{type:"text",value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown});if("text"===this.props.displayType)return p.default.createElement("span",e,this.state.value);if(this.props.customInput){var n=this.props.customInput;return p.default.createElement(n,t)}return p.default.createElement("input",t)}}]),t}(p.default.Component);m.propTypes=h,m.defaultProps=y,e.exports=m},1567:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(5),p=r(d),h=n(1572),y=r(h),m=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onLabelClick=n.onLabelClick.bind(n),n.name=n.constructor.generateName(),n.state={checked:n.props.checked},n}return i(t,e),u(t,null,[{key:"generateName",value:function(){return Math.random().toString(36).slice(2)}}]),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.checked;t!==this.state.checked&&this.setState({checked:t})}},{key:"onChange",value:function(e){var t=e.target.checked;this.props.onChange(t),this.setState({checked:t})}},{key:"onLabelClick",value:function(){var e=this.state.checked;this.props.onChange(!e),this.setState({checked:!e})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.readOnly,r=e.children,a=e.helper,o=this.state.checked,i={styleName:o?"checkboxChecked":"checkbox",className:t&&y.default.checkboxDisable},u={styleName:"checkboxInput",type:"checkbox",name:this.name,onChange:this.onChange,disabled:t,checked:o,readOnly:n},l={styleName:"labelInner"};return t||(l.onClick=this.onLabelClick,l.style={cursor:"pointer"}),c.default.createElement("div",{styleName:"container"},c.default.createElement("label",{htmlFor:this.name,styleName:"label"},c.default.createElement("span",i,c.default.createElement("input",u),c.default.createElement("span",{styleName:"checkboxInner"})),c.default.createElement("span",l,r)),a&&c.default.createElement("div",{styleName:"helper"},a))}}]),t}(c.default.Component);m.defaultProps={checked:!1,disabled:!1,readOnly:!1,helper:null},m.propTypes={readOnly:f.default.bool,children:f.default.node.isRequired,helper:f.default.node,onChange:f.default.func.isRequired,checked:f.default.bool,disabled:f.default.bool},t.default=(0,p.default)(m,y.default)},1568:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.findAreas=t.collectCities=void 0;var a=n(83),o=r(a),i=n(105),u=r(i);t.collectCities=function(e,t){return t.map(function(t){return Object.assign({},t,{areas:(0,u.default)(t.areas)?function(){return e(t.cityName)}:t.areas})})},t.findAreas=function(e,t){return(0,o.default)(t,{cityName:e}).areas}},1572:function(e,t){e.exports={container:"CheckBox_container_fRUUR",containerBlock:"CheckBox_containerBlock__bQqF",label:"CheckBox_label_3Uybp",labelInner:"CheckBox_labelInner_221Tz",helper:"CheckBox_helper_TrlbQ",check:"CheckBox_check_3i_Lc",checkboxInner:"CheckBox_checkboxInner_2Kw1N",checkboxInput:"CheckBox_checkboxInput_2g_cI",checked:"CheckBox_checked_22rVc",checkbox:"CheckBox_checkbox_11FaD CheckBox_check_3i_Lc",checkboxChecked:"CheckBox_checkboxChecked_2HOKa CheckBox_check_3i_Lc CheckBox_checked_22rVc",checkboxDisable:"CheckBox_checkboxDisable_1pAXA"}},1585:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),u=n(29),l=r(u),c=function(e){return i.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m12.3 13l7.7 7.7 7.7-7.7 2.3 2.4-10 10-10-10z"})))};t.default=c,e.exports=t.default},1596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=n(529),o=n(1641),i=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){return{environment:e.environment,cities:e.cities}},l=function(e){return{dispatchFetchCities:function(){return e((0,a.fetchCities)())},dispatchFetchAreas:function(t){return e((0,a.fetchAreas)(t))}}};t.default=(0,r.connect)(u,l,null,{withRef:!0})(i.default)},1638:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(1654),p=r(d),h=n(5),y=r(h),m=n(1647),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"onSelect",value:function(e){var t=e.cityName,n=e.areaName,r=this.props,a=r.onSelect,o=r.closeDropdown;a({cityName:t,areaName:n}),o()}},{key:"render",value:function(){var e=this,t=this.props,n=t.areas,r=t.cityName,a=t.onBack;return c.default.createElement("div",{styleName:"areasWrapper",className:"clear"},c.default.createElement("div",{styleName:"cityHeader"},c.default.createElement("div",{styleName:"backCitiesBtn"},c.default.createElement(p.default,{size:30,color:"#333",onClick:a})),c.default.createElement("span",{styleName:"cityText"},r)),n.map(function(t,n){return c.default.createElement("div",{key:""+(n+1),role:"button",styleName:"areaContainer",onClick:function(){return e.onSelect({cityName:r,areaName:t})}},c.default.createElement("div",{styleName:"area"},t))}))}}]),t}(c.default.Component);b.propTypes={areas:f.default.arrayOf(f.default.string).isRequired,cityName:f.default.string.isRequired,closeDropdown:f.default.func.isRequired,onSelect:f.default.func.isRequired,onBack:f.default.func.isRequired},t.default=(0,y.default)(b,v.default)},1639:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(108),l=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),f=r(s),d=n(3),p=r(d),h=n(5),y=r(h),m=n(1648),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"onSelect",value:function(e){this.props.onSelect(e.cityName),(0,l.default)(e.areas)&&e.areas()}},{key:"render",value:function(){var e=this,t=this.props.citiesCollection;return f.default.createElement("div",{styleName:"citiesWrapper",className:"clear"},t.map(function(t,n){return f.default.createElement("div",{key:""+(n+1),role:"button",styleName:"cityContainer",onClick:function(){return e.onSelect(t)}},f.default.createElement("div",{styleName:"city"},t.cityName))}))}}]),t}(f.default.Component);b.propTypes={citiesCollection:p.default.arrayOf(p.default.shape({cityName:p.default.string,areas:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.string)])})).isRequired,onSelect:p.default.func.isRequired},t.default=(0,y.default)(b,v.default)},1640:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(26),l=r(u),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),f=r(s),d=n(3),p=r(d),h=n(5),y=r(h),m=n(1639),v=r(m),b=n(1638),_=r(b),g=n(1649),w=r(g),C=n(1568),E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCitySelect=n.onCitySelect.bind(n),n.state={cityName:null},n}return i(t,e),c(t,[{key:"onCitySelect",value:function(e){this.setState({cityName:e})}},{key:"render",value:function(){var e=this,t=this.state.cityName,n=this.props.citiesCollection,r=t?(0,C.findAreas)(t,n):[];return(0,l.default)(r)&&r.length>0?f.default.createElement(_.default,{areas:r,cityName:this.state.cityName,onSelect:this.props.onSelect,closeDropdown:this.props.closeDropdown,onBack:function(){return e.setState({cityName:null})}}):f.default.createElement(v.default,{citiesCollection:this.props.citiesCollection,onSelect:this.onCitySelect})}}]),t}(f.default.Component);E.propTypes={citiesCollection:p.default.arrayOf(p.default.shape({city:p.default.string,areas:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.string)])})).isRequired,onSelect:p.default.func.isRequired,closeDropdown:p.default.func.isRequired},t.default=(0,y.default)(E,w.default)},1641:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(13),p=r(d),h=n(526),y=r(h),m=n(133),v=r(m),b=n(5),_=r(b),g=n(1650),w=r(g),C=n(1640),E=r(C),O=n(1568),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeDropdown=n.closeDropdown.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatchFetchCities()}},{key:"closeDropdown",value:function(){this.selectBtn.closeDropdown()}},{key:"render",value:function(){var e=this,t=this.props,n=t.cityName,r=t.areaName,a=t.placeholder,o=t.onBlur,i=t.cities,u=t.onSelect,l=t.width,s=t.dispatchFetchAreas;return 0===i.length?null:c.default.createElement(y.default,{ref:function(t){return e.selectBtn=t},value:""+n+r,dropdownWidth:500,width:l,placeholder:a,onBlur:o},c.default.createElement(E.default,{onSelect:u,closeDropdown:this.closeDropdown,citiesCollection:(0,O.collectCities)(s,i)}))}}]),t}(c.default.Component);k.defaultProps={placeholder:"城市/地區",width:"100%",cityName:"",areaName:"",onBlur:null},k.propTypes={placeholder:f.default.string,width:p.default.width,cityName:f.default.string,areaName:f.default.string,onBlur:f.default.func,onSelect:f.default.func.isRequired,dispatchFetchCities:f.default.func.isRequired,dispatchFetchAreas:f.default.func.isRequired,cities:p.default.cities.isRequired},t.default=(0,v.default)((0,_.default)(k,w.default))},1642:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(202),l=r(u),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),p=n(3),h=r(p),y=n(1566),m=r(y),v=n(133),b=r(v),_=n(15),g=r(_),w=n(5),C=r(w),E=n(1680),O=r(E),k=n(1676),S=r(k),P=n(1677),x=g.default.bind(O.default),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBlur=n.onBlur.bind(n),n.onFocus=n.onFocus.bind(n),n.onChange=n.onChange.bind(n),n.onCounterUp=n.onCounterUp.bind(n),n.onCounterDown=n.onCounterDown.bind(n),n.format=n.format.bind(n),n.state={isFocusing:!1,value:n.props.value},n}return i(t,e),s(t,[{key:"onBlur",value:function(){var e=this.props.onBlur;e&&e(),this.setState({isFocusing:!1})}},{key:"onFocus",value:function(){this.setState({isFocusing:!0})}},{key:"onChange",value:function(e,t){this.setState({value:t});var n=(0,P.isBlankString)(t)?null:(0,P.stringToNumber)(t);this.dispatchOnChange(n)}},{key:"onCounterUp",value:function(){var e=this.state.value,t=e?(0,P.stringToNumber)(e):0,n=this.valueRanged(t+1);this.setState({value:n}),this.dispatchOnChange(n)}},{key:"onCounterDown",value:function(){var e=this.state.value,t=e?(0,P.stringToNumber)(e):1,n=this.valueRanged(t-1);this.setState({value:n}),this.dispatchOnChange(n)}},{key:"dispatchOnChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"valueRanged",value:function(e){var t=(0,P.checkInteger)(e),n=this.props,r=n.max,a=n.min;return r&&t>r?r.toString():a&&t<a?a.toString():e}},{key:"format",value:function(e){return""+this.valueRanged(e)+this.props.suffix}},{key:"checkDisabled",value:function(e){return e&&this.state.value>=e}},{key:"isUpDisable",value:function(){var e=this.props.max;return!1!==e&&this.state.value>=e}},{key:"isDownDisable",value:function(){var e=this.props.min,t=this.state.value;return(0,l.default)(t)||!1!==e&&t<=e}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.placeholder,r=e.suffix,a=this.state,o=a.value,i=a.isFocusing,u={value:o,suffix:r,placeholder:n,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,allowNegative:!1,decimalSeparator:!1,format:this.format};return d.default.createElement("div",{className:x("inputOuter",{isFocusing:i}),style:{width:t}},d.default.createElement(m.default,c({styleName:"input"},u)),d.default.createElement("div",{styleName:"controller"},d.default.createElement(S.default,{direction:"up",onClick:this.onCounterUp,clickDisabled:this.isUpDisable()}),d.default.createElement(S.default,{direction:"down",onClick:this.onCounterDown,clickDisabled:this.isDownDisable()})))}}]),t}(d.default.Component);D.defaultProps={placeholder:null,value:null,suffix:null,onChange:null,onBlur:null,width:null,max:30,min:1},D.propTypes={placeholder:h.default.string,value:h.default.oneOfType([h.default.number,h.default.string]),suffix:h.default.string,onChange:h.default.func,onBlur:h.default.func,width:h.default.oneOfType([h.default.number,h.default.string]),max:h.default.oneOfType([h.default.number,h.default.bool]).isRequired,min:h.default.oneOfType([h.default.number,h.default.bool]).isRequired},t.default=(0,b.default)((0,C.default)(D,O.default))},1647:function(e,t){e.exports={cityHeader:"DropdownAreas_cityHeader_2VvRc",backCitiesBtn:"DropdownAreas_backCitiesBtn_1DaKe",cityText:"DropdownAreas_cityText_EYyCU",areasWrapper:"DropdownAreas_areasWrapper_3FRbC Dropdown_colsWrapper_1tEik",areaContainer:"DropdownAreas_areaContainer_1OZFq Dropdown_colContainer_3VeyX",area:"DropdownAreas_area_i_0EX Dropdown_col_1yG-N"}},1648:function(e,t){e.exports={citiesWrapper:"DropdownCities_citiesWrapper_2Y7qS Dropdown_colsWrapper_1tEik",cityContainer:"DropdownCities_cityContainer_2Efmf Dropdown_colContainer_3VeyX",city:"DropdownCities_city_1uxwc Dropdown_col_1yG-N"}},1649:function(e,t){e.exports={colsWrapper:"Dropdown_colsWrapper_1tEik",colContainer:"Dropdown_colContainer_3VeyX",col:"Dropdown_col_1yG-N"}},1650:function(e,t){},1654:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),u=n(29),l=r(u),c=function(e){return i.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m33.4 18.4v3.2h-20.4l9.3 9.4-2.3 2.4-13.4-13.4 13.4-13.4 2.3 2.4-9.3 9.4h20.4z"})))};t.default=c,e.exports=t.default},1674:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(551),p=r(d),h=n(5),y=r(h),m=n(1740),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.marginBottom,r=e.width;return c.default.createElement("div",{styleName:"alert",style:{marginBottom:n,width:r,display:"auto"===r?"inline-block":null}},c.default.createElement("div",{styleName:"alertInner"},c.default.createElement("div",{styleName:"alertIcon"},c.default.createElement(p.default,{size:22})),c.default.createElement("div",{styleName:"alertText"},t)))}}]),t}(c.default.Component);b.defaultProps={marginBottom:null,width:"100%"},b.propTypes={message:f.default.string.isRequired,marginBottom:f.default.number,width:f.default.oneOf(["100%","auto"])},t.default=(0,y.default)(b,v.default)},1676:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(1585),p=r(d),h=n(1682),y=r(h),m=n(15),v=r(m),b=n(5),_=r(b),g=n(1679),w=r(g),C=v.default.bind(w.default),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.direction,r=e.clickDisabled;return c.default.createElement("button",{className:"button "+C("container",n,{petrified:r}),onClick:r?null:t},c.default.createElement("div",{className:C("arrowIcon")},"up"===n&&c.default.createElement(y.default,{size:22}),"down"===n&&c.default.createElement(p.default,{size:22})))}}]),t}(c.default.Component);E.defaultProps={clickDisabled:!1},E.propTypes={direction:f.default.oneOf(["up","down"]).isRequired,onClick:f.default.func.isRequired,clickDisabled:f.default.bool},t.default=(0,_.default)(E,w.default)},1677:function(e,t,n){"use strict";function r(e){return""===e}function a(e){var t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Not a number string!");return t}function o(e){if(/^\d+$/.test(e))return e;throw new Error("Not a number string!")}Object.defineProperty(t,"__esModule",{value:!0}),t.isBlankString=r,t.stringToNumber=a,t.checkInteger=o},1679:function(e,t){e.exports={inputer:"ArrowButton_inputer_2Ea9E",container:"ArrowButton_container_cj8zx",arrowIcon:"ArrowButton_arrowIcon_H5zFK",petrified:"ArrowButton_petrified_2-sHE",up:"ArrowButton_up_3x48D",down:"ArrowButton_down_3Djre"}},1680:function(e,t){e.exports={inputer:"TextCounter_inputer_1IT08",inputOuter:"TextCounter_inputOuter_2yx1O TextCounter_inputer_1IT08",isFocusing:"TextCounter_isFocusing_FYd-H",input:"TextCounter_input_3c6Ls TextCounter_inputer_1IT08",controller:"TextCounter_controller_3sgWz"}},1682:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),u=n(29),l=r(u),c=function(e){return i.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m12.3 25.7l-2.3-2.3 10-10 10 10-2.3 2.3-7.7-7.7z"})))};t.default=c,e.exports=t.default},1740:function(e,t){e.exports={alert:"AlertPanel_alert_2Qe2h",alertInner:"AlertPanel_alertInner_1gECZ",alertIcon:"AlertPanel_alertIcon_hDSQL",alertText:"AlertPanel_alertText_5I6eB"}},1769:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAll=t.validateAllBy=t.validateRegulation=t.validateRegulationBy=t.validatePrice=t.validatePriceBy=t.validateDelivery=t.validateDeliveryBy=t.validateAbout=t.validateAboutBy=t.validateCovers=t.validateCoversBy=void 0;var a=n(319),o=r(a),i=n(105),u=r(i),l=n(154),c=r(l),s=n(130),f=n(318),d=r(f),p=n(325),h=n(161),y=t.validateCoversBy=function(e){var t=(0,o.default)(e,{isStored:!0}).length;return{isValid:t>0,errors:[e.length,t]}},m=t.validateCovers=function(){return function(e,t){return new Promise(function(e,n){var r=t()[h.REDUCER_KEY],a=y(r),o=a.isValid,i=a.errors;o?e():n(i)})}},v=t.validateAboutBy=function(e){var t=e.title,n=e.descript,r=e.cityName,a=e.areaName,o=e.categoryID,i=e.tag1,l=e.tag2,s=e.tag3,f=(0,c.default)({title:t,descript:n,cityArea:""+r+a,category:o,tag1:i,tag2:l,tag3:s},{title:d.default.title,descript:d.default.descript,cityArea:d.default.cityArea,category:d.default.category,tag1:d.default.tag,tag2:d.default.tag,tag3:d.default.tag});return{isValid:(0,u.default)(f),errors:f}},b=t.validateAbout=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=r.title,o=r.descript,i=r.cityName,u=r.areaName,l=r.categoryID,c=r.tag1,s=r.tag2,f=r.tag3,d=v({title:a,descript:o,cityName:i,areaName:u,categoryID:l,tag1:c,tag2:s,tag3:f}),h=d.isValid,y=d.errors;h?e():n(y)})}},_=t.validateDeliveryBy=function(e){var t=e.returnCity,n=e.returnArea,r=e.returnAddress,a=e.sendBy711,o=e.sendByOtherShippment,i=e.sendByInPerson,l=e.returnBy711,s=e.returnByOtherShippment,f=e.returnByInPerson,p="";return a||o||i?l||s||f?(s&&(p=(0,c.default)({cityArea:""+t+n,returnAddress:r},{cityArea:d.default.cityArea,returnAddress:d.default.address})),{isValid:(0,u.default)(p),errors:p}):{isValid:!1,errors:{optionError:"至少選擇一個還貨選項"}}:{isValid:!1,errors:{optionError:"至少選擇一個出貨選項"}}},g=t.validateDelivery=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=_(r),o=a.isValid,i=a.errors;o?e():n(i)})}},w=t.validatePriceBy=function(e){var t=e.price,n=e.deposit,r=e.unit,a=e.minimumShippemntDay,o=e.discounts,i=parseInt(t,10)||0,l=parseInt(n,10)||0;if(i+l>f.PRICE_MAX)return{isValid:!1,errors:{totalError:"總計不得超過 "+(0,s.formatCurrency)(f.PRICE_MAX)}};var p=(0,c.default)({price:t,deposit:n,unit:r,minimumShippemntDay:a},{price:d.default.price,deposit:d.default.deposit,unit:d.default.goodsUnit,minimumShippemntDay:d.default.minimumShippemntDay});return p||o.forEach(function(e){var t=e.param,n=e.discount,r=(0,c.default)({param:t,val:n},{param:d.default.discountParam,val:d.default.discountVal(i)});(0,u.default)(p)&&(p=r)}),{isValid:(0,u.default)(p),errors:p}},C=t.validatePrice=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=w(r),o=a.isValid,i=a.errors;o?e():n(i)})}},E=t.validateRegulationBy=function(e){var t=e.regulation,n=(0,c.default)({regulation:t},{regulation:d.default.regulation});return{isValid:(0,u.default)(n),errors:n}},O=t.validateRegulation=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=E(r),o=a.isValid,i=a.errors;o?e():n(i)})}};t.validateAllBy=function(e,t){var n=y(t),r=n.isValid,a=v(e),o=a.isValid,i=_(e),u=i.isValid,l=w(e),c=l.isValid,s=E(e),f=s.isValid;return r&&o&&u&&c&&f},t.validateAll=function(){return function(e){return new Promise(function(t,n){var r=[e(m()),e(b()),e(g()),e(C()),e(O())];Promise.all(r).then(function(e){return t(e)}).catch(function(e){return n(e)})})}}},1893:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAll=t.validateAllBy=t.validateDelivery=t.validateDeliveryBy=t.validateAbout=t.validateAboutBy=t.validateCovers=t.validateCoversBy=void 0;var a=n(319),o=r(a),i=n(105),u=r(i),l=n(154),c=r(l),s=n(130),f=n(318),d=r(f),p=n(327),h=n(164),y=t.validateCoversBy=function(e){var t=(0,o.default)(e,{isStored:!0}).length;return{isValid:t>0,errors:[e.length,t]}},m=t.validateCovers=function(){return function(e,t){return new Promise(function(e,n){var r=t()[h.REDUCER_KEY],a=y(r),o=a.isValid,i=a.errors;o?e():n(i)})}},v=t.validateAboutBy=function(e){var t=e.title,n=e.descript,r=e.cityName,a=e.areaName,o=e.price,i=e.unit,l=e.categoryID,s=e.tag1,f=e.tag2,p=e.tag3,h=(0,c.default)({title:t,descript:n,cityArea:""+r+a,category:l,price:o,unit:i,tag1:s,tag2:f,tag3:p},{title:d.default.title,descript:d.default.descript,cityArea:d.default.cityArea,category:d.default.category,price:d.default.price,unit:d.default.goodsUnit,tag1:d.default.tag,tag2:d.default.tag,tag3:d.default.tag});return{isValid:(0,u.default)(h),errors:h}},b=t.validateAbout=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=r.title,o=r.descript,i=r.cityName,u=r.areaName,l=r.categoryID,c=r.price,d=r.unit,h=r.tag1,y=r.tag2,m=r.tag3;if((parseInt(c,10)||0)>f.PRICE_MAX)return{isValid:!1,errors:{totalError:"總計不得超過 "+(0,s.formatCurrency)(f.PRICE_MAX)}};var b=v({title:a,descript:o,cityName:i,areaName:u,price:c,unit:d,categoryID:l,tag1:h,tag2:y,tag3:m}),_=b.isValid,g=b.errors;_?e():n(g)})}},_=t.validateDeliveryBy=function(e){var t=e.sendBy711,n=e.sendByOtherShippment,r=e.sendByInPerson;return t||n||r?{isValid:(0,u.default)(""),errors:""}:{isValid:!1,errors:{optionError:"至少選擇一個出貨選項"}}},g=t.validateDelivery=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=_(r),o=a.isValid,i=a.errors;o?e():n(i)})}};t.validateAllBy=function(e,t){var n=y(t),r=n.isValid,a=v(e),o=a.isValid,i=_(e),u=i.isValid;return r&&o&&u},t.validateAll=function(){return function(e){return new Promise(function(t,n){var r=[e(m()),e(b()),e(g())];Promise.all(r).then(function(e){return t(e)}).catch(function(e){return n(e)})})}}},2158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(1531),p=r(d),h=n(520),y=r(h),m=n(1567),v=r(m),b=n(1596),_=r(b),g=n(209),w=r(g),C=n(1674),E=r(C),O=n(1642),k=r(O),S=n(1530),P=r(S),x=n(156),D=r(x),N=n(5),T=r(N),j=n(2278),B=r(j),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNextStepClick=n.onNextStepClick.bind(n),n.state={optionError:""},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatchTouchPath()}},{key:"onNextStepClick",value:function(){var e=this,t=this.props,n=t.dispatchValidate,r=t.nextStep;n().then(function(){r()}).catch(function(t){var n=t.optionError;if(n)return void e.setState({optionError:n});e.setState({optionError:""}),e.cityAreaInput.valid(),e.addressInput.valid()})}},{key:"renderReturnAddress",value:function(e,t){var n=this,r=t.returnCity,a=t.returnArea,o=t.returnAddress;if(!e)return null;var i=this.props.dispatchChangeData;return c.default.createElement(y.default,{headerText:"收件資訊",large:!0},c.default.createElement("div",{styleName:"assign-address"},c.default.createElement("div",null,"為保護您的個資，您的聯絡資訊只有在您同意預訂單後才會提供給使用人喔！"),c.default.createElement("div",{styleName:"assign-cityarea"},c.default.createElement(_.default,{ref:function(e){return n.cityAreaInput=e&&e.getWrappedInstance()},cityName:r,areaName:a,value:""+r+a,onSelect:function(e){var t=e.cityName,n=e.areaName;return i({returnCity:t,returnArea:n})},constraints:D.default.cityArea,validateOnBlur:!0})),c.default.createElement("div",{styleName:"assign-address-detail"},c.default.createElement(w.default,{ref:function(e){return n.addressInput=e},placeholder:"請輸入詳細地址",onChange:function(e){return i({returnAddress:e})},value:o,constraints:D.default.address,validateOnBlur:!0}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.publish,r=t.dispatchChangeData,a=t.isValid,o=n.sendByOtherShippment,i=n.sendByInPerson,u=n.returnByOtherShippment,l=n.returnByInPerson,s=n.minimumShippemntDay,f=this.state.optionError;return c.default.createElement(p.default,{title:"寄件資訊"},c.default.createElement(y.default,{headerText:"預計物流時間"},c.default.createElement(k.default,{ref:function(t){return e.unitInput=t},value:s?String(s):"",suffix:"天",placeholder:"請預估物流時間",min:1,max:7,onChange:function(e){return r({minimumShippemntDay:e})},constraints:D.default.serviceUnit,validateOnBlur:!0})),c.default.createElement(y.default,{headerText:"提供寄件方式",multiple:!0,large:!0},c.default.createElement("div",{styleName:"option"},c.default.createElement(v.default,{checked:!!o,onChange:function(e){return r({sendByOtherShippment:e})}},c.default.createElement("span",{styleName:"option-label"},"自行寄件"))),c.default.createElement("div",{styleName:"option"},c.default.createElement(v.default,{checked:!!i,onChange:function(e){return r({sendByInPerson:e})}},c.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）")))),c.default.createElement(y.default,{headerText:"接受寄還方式",multiple:!0,large:!0},c.default.createElement("div",{styleName:"option"},c.default.createElement(v.default,{checked:!!u,onChange:function(e){return r({returnByOtherShippment:e})}},c.default.createElement("span",{styleName:"option-label"},"自行寄件"))),c.default.createElement("div",{styleName:"option"},c.default.createElement(v.default,{checked:!!l,onChange:function(e){return r({returnByInPerson:e})}},c.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）")))),this.renderReturnAddress(u,n),f&&c.default.createElement(E.default,{message:f,marginBottom:40}),c.default.createElement(P.default,{status:a?S.STATUS_VALID:S.STATUS_DISABLE,onClick:this.onNextStepClick}))}}]),t}(c.default.Component);R.propTypes={publish:f.default.object.isRequired,dispatchChangeData:f.default.func.isRequired,dispatchValidate:f.default.func.isRequired,dispatchTouchPath:f.default.func.isRequired,isValid:f.default.bool.isRequired,nextStep:f.default.func.isRequired},t.default=(0,T.default)(R,B.default)},2180:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(3),f=r(s),d=n(1531),p=r(d),h=n(520),y=r(h),m=n(84),v=r(m),b=n(1567),_=r(b),g=n(1674),w=r(g),C=n(1642),E=r(C),O=n(1530),k=r(O),S=n(156),P=r(S),x=n(5),D=r(x),N=n(2300),T=r(N),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createSevenFormPost=function(){var e=function(e,t){var n=document.createElement("input");return n.value=t,n.name=e,n.type="hidden",n};if(n.windowRef&&n.windowRef.close(),!!document.documentMode||!window.StyleMedia){var t=window.open("temp.html","","width=1000, height=800, left=400, top=200");n.windowRef=t;var r=t.document.createElement("form");r.method="post",r.action="https://emap.pcsc.com.tw/ecmap/default.aspx",r.appendChild(e("eshopparid","935")),r.appendChild(e("eshopid","001")),r.appendChild(e("eshoppwd","presco123")),r.appendChild(e("url","http://debug.shareapp.com.tw:10380/ajax/store_result.json")),r.appendChild(e("tempvar","")),r.appendChild(e("sid","1")),r.appendChild(e("storecategory","3")),r.appendChild(e("showtype","1")),r.appendChild(e("storeid","")),t.document.getElementsByTagName("body")[0].appendChild(r),r.submit()}else{console.log("isEdge");var a=window.open("/p/sevenEleven");n.windowRef=a}},n.onNextStepClick=n.onNextStepClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleStorage=n.handleStorage.bind(n),n.createSevenFormPost=n.createSevenFormPost.bind(n),n.state={optionError:""},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatchTouchPath(),window.addEventListener("focus",this.handleFocus,!1),window.addEventListener("storage",this.handleStorage,!1),this.windowRef&&this.windowRef.close()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.handleFocus,!1),window.removeEventListener("storage",this.handleStorage,!1),localStorage.remove("711_callback"),this.windowRef&&this.windowRef.close()}},{key:"onNextStepClick",value:function(){var e=this,t=this.props,n=t.dispatchValidate,r=t.nextStep;n().then(function(){r()}).catch(function(t){var n=t.optionError;if(n)return void e.setState({optionError:n});e.setState({optionError:""}),e.cityAreaInput.valid(),e.addressInput.valid()})}},{key:"handleStorage",value:function(e){console.log("handleStorage"),localStorage.remove("711_callback"),this.handleFocus(e)}},{key:"handleFocus",value:function(e){console.log("handleFocus");var t=this.props.dispatchChangeData,n=function(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t?t[1]:""},r=n("storeid");if(""!==r){t({storeid:r,storename:n("storename"),storeaddress:n("storeaddress")}),this.windowRef&&this.windowRef.close()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.publish,r=t.dispatchChangeData,a=t.isValid,o=n.sendBy711,i=n.sendByOtherShippment,u=n.sendByInPerson,l=n.minimumShippemntDay,s=this.state.optionError;return c.default.createElement(p.default,{title:"寄件資訊"},c.default.createElement(y.default,{headerText:"預計物流時間"},c.default.createElement(E.default,{ref:function(t){return e.unitInput=t},value:l?String(l):"",suffix:"天",placeholder:"請預估物流時間",min:1,max:7,onChange:function(e){return r({minimumShippemntDay:e})},constraints:P.default.serviceUnit,validateOnBlur:!0})),c.default.createElement(y.default,{headerText:"提供寄件方式",multiple:!0,large:!0},c.default.createElement("div",{styleName:"option"},c.default.createElement(_.default,{checked:!!i,onChange:function(e){return r({sendByOtherShippment:e})}},c.default.createElement("span",{styleName:"option-label"},"自行寄件"))),c.default.createElement("div",{styleName:"option"},c.default.createElement(_.default,{checked:!!u,onChange:function(e){return r({sendByInPerson:e})}},c.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）"))),c.default.createElement("div",{styleName:"option"},c.default.createElement(_.default,{checked:!!o,onChange:function(e){return r({sendBy711:e})}},c.default.createElement("span",{styleName:"option-label"},"7-11 交貨便"))),o&&c.default.createElement(v.default,{colorType:"greenBorder",content:"未取件設定",onClick:function(){e.createSevenFormPost()}})),s&&c.default.createElement(w.default,{message:s,marginBottom:40}),c.default.createElement(k.default,{status:a?O.STATUS_VALID:O.STATUS_DISABLE,onClick:this.onNextStepClick}))}}]),t}(c.default.Component);j.propTypes={publish:f.default.object.isRequired,dispatchChangeData:f.default.func.isRequired,dispatchValidate:f.default.func.isRequired,dispatchTouchPath:f.default.func.isRequired,isValid:f.default.bool.isRequired,nextStep:f.default.func.isRequired},t.default=(0,D.default)(j,T.default)},2278:function(e,t){e.exports={noticeList:"StepDelivery_noticeList_VnCnr",option:"StepDelivery_option_2ooD1","option-label":"StepDelivery_option-label_10Xgl","assign-address":"StepDelivery_assign-address_3Plx0","assign-cityarea":"StepDelivery_assign-cityarea_3AKO7","assign-address-detail":"StepDelivery_assign-address-detail_IV-AN"}},2300:function(e,t){e.exports={noticeList:"StepDelivery_noticeList_2Po8b",option:"StepDelivery_option_RqdoR","option-label":"StepDelivery_option-label_BchbA","assign-address":"StepDelivery_assign-address_eMWwH","assign-cityarea":"StepDelivery_assign-cityarea_2BUcT","assign-address-detail":"StepDelivery_assign-address-detail_2qJsF"}}});