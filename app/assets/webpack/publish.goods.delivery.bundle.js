webpackJsonp([5],{1491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(23),o=n(2),i=n(2187),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(330),s=n(1791),c=o.publishGoodsRouter.deliveryPath,d=o.publishGoodsRouter.pricePath,f=function(e){var t=e.environment,n=e[u.REDUCER_KEY];return{environment:t,publish:n,isValid:(0,s.validateDeliveryBy)(n).isValid}},p=function(e,t){var n=t.location.query,r=n.pid;return{dispatchChangeData:function(t){return e((0,u.changeData)(t))},dispatchValidate:function(){return e((0,s.validateDelivery)())},dispatchTouchPath:function(){return e((0,u.touchPath)(c(r)))},nextStep:function(){return a.browserHistory.push(d(r))}}};t.default=(0,r.connect)(f,p)(l.default)},1513:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(23),o=n(2),i=n(2209),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(332),s=n(1924),c=o.publishUsedGoodsRouter.deliveryPath,d=o.publishUsedGoodsRouter.confirmPath,f=function(e){var t=e.environment,n=e[u.REDUCER_KEY];return{environment:t,publish:n,isValid:(0,s.validateDeliveryBy)(n).isValid}},p=function(e,t){var n=t.location.query,r=n.pid;return{dispatchChangeData:function(t){return e((0,u.changeData)(t))},dispatchValidate:function(){return e((0,s.validateDelivery)())},dispatchTouchPath:function(){return e((0,u.touchPath)(c(r)))},nextStep:function(){return a.browserHistory.push(d(r))}}};t.default=(0,r.connect)(f,p)(l.default)},1552:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_VALID=t.STATUS_LOADING=t.STATUS_DISABLE=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),d=n(3),f=r(d),p=n(519),h=r(p),y=n(14),m=r(y),v=n(5),b=r(v),_=n(1557),g=r(_),w=t.STATUS_DISABLE="STATUS_DISABLE",C=t.STATUS_LOADING="STATUS_LOADING",E=t.STATUS_VALID="STATUS_VALID",k=m.default.bind(g.default),O=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:null},n.onClickNext=n.onClickNext.bind(n),n}return l(t,e),u(t,null,[{key:"renderDisable",value:function(e){var t=e.onClick,n=e.text;return c.default.createElement("button",{className:"button "+k("button","disabled"),onClick:t},n)}},{key:"renderLoading",value:function(){var e=c.default.createElement("div",{styleName:"loading-icon"},c.default.createElement(h.default,{size:9,color:"#B8B8B8"}));return c.default.createElement("button",{className:"button "+k("button","disabled")},e,"儲存中")}},{key:"renderValid",value:function(e){var t=e.onClick,n=e.text;return c.default.createElement("button",{className:"button "+k("button","active"),onClick:t},n)}}]),u(t,[{key:"onClickNext",value:function(){var e=this.props,t=e.onClick,n=e.status,r=t;this.setState({status:n===E?C:null},r)}},{key:"render",value:function(){var e,t=this.constructor,n=t.renderDisable,r=t.renderLoading,o=t.renderValid,i=this.props.text;return(e={},a(e,w,n({onClick:this.onClickNext,text:i})),a(e,C,r()),a(e,E,o({onClick:this.onClickNext,text:i})),e)[this.state.status||this.props.status]}}]),t}(c.default.Component);O.defaultProps={text:"下一步",status:w},O.propTypes={text:f.default.string.isRequired,status:f.default.oneOf([w,C,E]),onClick:f.default.func.isRequired},t.default=(0,b.default)(O,g.default)},1553:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(11),p=r(f),h=n(5),y=r(h),m=n(1558),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.helperText,r=e.optional,a=e.children;return s.default.createElement("div",{styleName:"container"},s.default.createElement("div",{styleName:"title-container"},s.default.createElement("h2",{styleName:"title"},t,r&&s.default.createElement("span",{styleName:"titleHelper"},"（非必填）")),n&&s.default.createElement("span",{styleName:"helper"},n)),a)}}]),t}(s.default.Component);b.defaultProps={helperText:null,optional:!1},b.propTypes={children:p.default.children.isRequired,title:d.default.string.isRequired,helperText:d.default.string,optional:d.default.bool},t.default=(0,y.default)(b,v.default)},1557:function(e,t){e.exports={button:"NextStep_button_e8To5",active:"NextStep_active_2uSyl",disabled:"NextStep_disabled_dCatW","loading-icon":"NextStep_loading-icon_1tLMz"}},1558:function(e,t){e.exports={container:"FormContainer_container_2PVcv","title-container":"FormContainer_title-container_2qfVb",title:"FormContainer_title_1cLV5",titleHelper:"FormContainer_titleHelper_1Diqs",helper:"FormContainer_helper_1uffx"}},1588:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),d=r(c),f=n(0),p=r(f),h={thousandSeparator:d.default.oneOfType([d.default.string,d.default.bool]),decimalSeparator:d.default.oneOfType([d.default.string,d.default.bool]),decimalPrecision:d.default.oneOfType([d.default.number,d.default.bool]),displayType:d.default.oneOf(["input","text"]),prefix:d.default.string,suffix:d.default.string,format:d.default.oneOfType([d.default.string,d.default.func]),mask:d.default.string,value:d.default.oneOfType([d.default.number,d.default.string]),customInput:d.default.func,allowNegative:d.default.bool,onKeyDown:d.default.func,onChange:d.default.func},y={displayType:"input",decimalSeparator:".",decimalPrecision:!1,allowNegative:!0},m=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.formatInput(e.value).formattedValue},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:this.formatInput(e.value).formattedValue})}},{key:"getSeparators",value:function(){var e=this.props,t=e.thousandSeparator,n=e.decimalSeparator;return!0===t&&(t=","),n&&t&&"string"!=typeof n&&(n="."===t?",":"."),"."===t&&(n=","),!0===n&&(n="."),{decimalSeparator:n,thousandSeparator:t}}},{key:"getNumberRegex",value:function(e,t){var n=this.props.format,r=this.getSeparators(),a=r.decimalSeparator;return new RegExp("\\d"+(!a||t||n?"":"|"+l(a)),e?"g":void 0)}},{key:"setCaretPosition",value:function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}},{key:"formatWithPattern",value:function(e){var t=this.props,n=t.format,r=t.mask;if(!n)return e;for(var a=n.split("#").length-1,o=0,i=n,l=0,u=e.length;l<u;l++)l<a&&(o=i.indexOf("#"),i=i.replace("#",e[l]));var s=i.lastIndexOf("#");return r?i.replace(/#/g,r):i.substring(0,o+1)+(-1!==s?i.substring(s+1,i.length):"")}},{key:"formatInput",value:function(e){var t=this.props,n=t.prefix,r=t.suffix,a=(t.mask,t.format),o=t.allowNegative,i=t.decimalPrecision,l=this.getSeparators(),u=l.thousandSeparator,s=l.decimalSeparator,c=this.getNumberRegex(!0),d=void 0,f=void 0;"number"==typeof e&&(e+="");var p=new RegExp("(-)"),h=new RegExp("(-)(.)*(-)");o&&!a&&(d=p.test(e),f=h.test(e));var y=e&&e.match(c);if(!y&&f)return{value:"",formattedValue:""};if(!y&&d)return{value:"",formattedValue:"-"};if(!y)return{value:"",formattedValue:""};var m=e.match(c).join(""),v=m;if(a)"string"==typeof a?v=this.formatWithPattern(v):"function"==typeof a&&(v=a(v));else{var b=v,_="",g=-1!==v.indexOf(s)||!1!==i;if(s&&g){var w=void 0;if(!1!==i){var C=!0===i?2:i;"."!==s?(w=parseFloat(v.replace(s,".")).toFixed(C),w=w.replace(".",s)):w=parseFloat(v).toFixed(C),w=w.split(s)}else w=v.split(s);b=w[0],_=w[1]}u&&(b=b.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u)),n&&(b=n+b),r&&(_+=r),d&&!f&&(b="-"+b),v=b+(g&&s||"")+_}return{value:(d&&!f?"-":"")+v.match(c).join(""),formattedValue:v}}},{key:"getCursorPosition",value:function(e,t,n){var r=this.getNumberRegex(),a=void 0,o=void 0;for(a=0,o=0;o<n;o++)if(e[o].match(r)||e[o]===t[a]){for(;e[o]!==t[a]&&a<t.length;)a++;a++}return a}},{key:"onChangeHandler",value:function(e,t){var n=this;e.persist();var r=e.target,a=r.value,o=this.formatInput(a),i=o.formattedValue,l=o.value,u=r.selectionStart;return this.setState({value:i},function(){u=n.getCursorPosition(a,i,u),n.setCaretPosition(r,u),setTimeout(function(){return n.setCaretPosition(r,u)},0),t&&t(e,l)}),l}},{key:"onChange",value:function(e){this.onChangeHandler(e,this.props.onChange)}},{key:"onKeyDown",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,a=t.value,o=this.props.decimalPrecision,i=e.key,l=this.getNumberRegex(!1,!1!==o),u=new RegExp("-");if(r-n==0)if("Delete"!==i||l.test(a[n])||u.test(a[n])){if("Backspace"===i&&!l.test(a[n-1])&&!u.test(a[n-1])){e.preventDefault();for(var s=n;!l.test(a[s-1])&&s>0;)s--;this.setCaretPosition(t,s)}}else{e.preventDefault();for(var c=n;!l.test(a[c])&&c<a.length;)c++;this.setCaretPosition(t,c)}this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){var e=u({},this.props);Object.keys(h).forEach(function(t){delete e[t]});var t=u({},e,{type:"text",value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown});if("text"===this.props.displayType)return p.default.createElement("span",e,this.state.value);if(this.props.customInput){var n=this.props.customInput;return p.default.createElement(n,t)}return p.default.createElement("input",t)}}]),t}(p.default.Component);m.propTypes=h,m.defaultProps=y,e.exports=m},1590:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(5),p=r(f),h=n(1595),y=r(h),m=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onLabelClick=n.onLabelClick.bind(n),n.name=n.constructor.generateName(),n.state={checked:n.props.checked},n}return i(t,e),l(t,null,[{key:"generateName",value:function(){return Math.random().toString(36).slice(2)}}]),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.checked;t!==this.state.checked&&this.setState({checked:t})}},{key:"onChange",value:function(e){var t=e.target.checked;this.props.onChange(t),this.setState({checked:t})}},{key:"onLabelClick",value:function(){var e=this.state.checked;this.props.onChange(!e),this.setState({checked:!e})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.readOnly,r=e.children,a=e.helper,o=this.state.checked,i={styleName:o?"checkboxChecked":"checkbox",className:t&&y.default.checkboxDisable},l={styleName:"checkboxInput",type:"checkbox",name:this.name,onChange:this.onChange,disabled:t,checked:o,readOnly:n},u={styleName:"labelInner"};return t||(u.onClick=this.onLabelClick,u.style={cursor:"pointer"}),s.default.createElement("div",{styleName:"container"},s.default.createElement("label",{htmlFor:this.name,styleName:"label"},s.default.createElement("span",i,s.default.createElement("input",l),s.default.createElement("span",{styleName:"checkboxInner"})),s.default.createElement("span",u,r)),a&&s.default.createElement("div",{styleName:"helper"},a))}}]),t}(s.default.Component);m.defaultProps={checked:!1,disabled:!1,readOnly:!1,helper:null},m.propTypes={readOnly:d.default.bool,children:d.default.node.isRequired,helper:d.default.node,onChange:d.default.func.isRequired,checked:d.default.bool,disabled:d.default.bool},t.default=(0,p.default)(m,y.default)},1591:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.findAreas=t.collectCities=void 0;var a=n(72),o=r(a),i=n(85),l=r(i);t.collectCities=function(e,t){return t.map(function(t){return Object.assign({},t,{areas:(0,l.default)(t.areas)?function(){return e(t.cityName)}:t.areas})})},t.findAreas=function(e,t){return(0,o.default)(t,{cityName:e}).areas}},1595:function(e,t){e.exports={container:"CheckBox_container_fRUUR",containerBlock:"CheckBox_containerBlock__bQqF",label:"CheckBox_label_3Uybp",labelInner:"CheckBox_labelInner_221Tz",helper:"CheckBox_helper_TrlbQ",check:"CheckBox_check_3i_Lc",checkboxInner:"CheckBox_checkboxInner_2Kw1N",checkboxInput:"CheckBox_checkboxInput_2g_cI",checked:"CheckBox_checked_22rVc",checkbox:"CheckBox_checkbox_11FaD CheckBox_check_3i_Lc",checkboxChecked:"CheckBox_checkboxChecked_2HOKa CheckBox_check_3i_Lc CheckBox_checked_22rVc",checkboxDisable:"CheckBox_checkboxDisable_1pAXA"}},1611:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),l=n(30),u=r(l),s=function(e){return i.default.createElement(u.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m12.3 13l7.7 7.7 7.7-7.7 2.3 2.4-10 10-10-10z"})))};t.default=s,e.exports=t.default},1623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(528),o=n(1670),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){return{environment:e.environment,cities:e.cities}},u=function(e){return{dispatchFetchCities:function(){return e((0,a.fetchCities)())},dispatchFetchAreas:function(t){return e((0,a.fetchAreas)(t))}}};t.default=(0,r.connect)(l,u,null,{withRef:!0})(i.default)},1667:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(1681),p=r(f),h=n(5),y=r(h),m=n(1675),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"onSelect",value:function(e){var t=e.cityName,n=e.areaName,r=this.props,a=r.onSelect,o=r.closeDropdown;a({cityName:t,areaName:n}),o()}},{key:"render",value:function(){var e=this,t=this.props,n=t.areas,r=t.cityName,a=t.onBack;return s.default.createElement("div",{styleName:"areasWrapper",className:"clear"},s.default.createElement("div",{styleName:"cityHeader"},s.default.createElement("div",{styleName:"backCitiesBtn"},s.default.createElement(p.default,{size:30,color:"#333",onClick:a})),s.default.createElement("span",{styleName:"cityText"},r)),n.map(function(t,n){return s.default.createElement("div",{key:""+(n+1),role:"button",styleName:"areaContainer",onClick:function(){return e.onSelect({cityName:r,areaName:t})}},s.default.createElement("div",{styleName:"area"},t))}))}}]),t}(s.default.Component);b.propTypes={areas:d.default.arrayOf(d.default.string).isRequired,cityName:d.default.string.isRequired,closeDropdown:d.default.func.isRequired,onSelect:d.default.func.isRequired,onBack:d.default.func.isRequired},t.default=(0,y.default)(b,v.default)},1668:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(111),u=r(l),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=r(c),f=n(3),p=r(f),h=n(5),y=r(h),m=n(1676),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"onSelect",value:function(e){this.props.onSelect(e.cityName),(0,u.default)(e.areas)&&e.areas()}},{key:"render",value:function(){var e=this,t=this.props.citiesCollection;return d.default.createElement("div",{styleName:"citiesWrapper",className:"clear"},t.map(function(t,n){return d.default.createElement("div",{key:""+(n+1),role:"button",styleName:"cityContainer",onClick:function(){return e.onSelect(t)}},d.default.createElement("div",{styleName:"city"},t.cityName))}))}}]),t}(d.default.Component);b.propTypes={citiesCollection:p.default.arrayOf(p.default.shape({cityName:p.default.string,areas:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.string)])})).isRequired,onSelect:p.default.func.isRequired},t.default=(0,y.default)(b,v.default)},1669:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(26),u=r(l),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=r(c),f=n(3),p=r(f),h=n(5),y=r(h),m=n(1668),v=r(m),b=n(1667),_=r(b),g=n(1677),w=r(g),C=n(1591),E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCitySelect=n.onCitySelect.bind(n),n.state={cityName:null},n}return i(t,e),s(t,[{key:"onCitySelect",value:function(e){this.setState({cityName:e})}},{key:"render",value:function(){var e=this,t=this.state.cityName,n=this.props.citiesCollection,r=t?(0,C.findAreas)(t,n):[];return(0,u.default)(r)&&r.length>0?d.default.createElement(_.default,{areas:r,cityName:this.state.cityName,onSelect:this.props.onSelect,closeDropdown:this.props.closeDropdown,onBack:function(){return e.setState({cityName:null})}}):d.default.createElement(v.default,{citiesCollection:this.props.citiesCollection,onSelect:this.onCitySelect})}}]),t}(d.default.Component);E.propTypes={citiesCollection:p.default.arrayOf(p.default.shape({city:p.default.string,areas:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.string)])})).isRequired,onSelect:p.default.func.isRequired,closeDropdown:p.default.func.isRequired},t.default=(0,y.default)(E,w.default)},1670:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(11),p=r(f),h=n(526),y=r(h),m=n(134),v=r(m),b=n(5),_=r(b),g=n(1678),w=r(g),C=n(1669),E=r(C),k=n(1591),O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeDropdown=n.closeDropdown.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.dispatchFetchCities()}},{key:"closeDropdown",value:function(){this.selectBtn.closeDropdown()}},{key:"render",value:function(){var e=this,t=this.props,n=t.cityName,r=t.areaName,a=t.placeholder,o=t.onBlur,i=t.cities,l=t.onSelect,u=t.width,c=t.dispatchFetchAreas;return 0===i.length?null:s.default.createElement(y.default,{ref:function(t){return e.selectBtn=t},value:""+n+r,dropdownWidth:500,width:u,placeholder:a,onBlur:o},s.default.createElement(E.default,{onSelect:l,closeDropdown:this.closeDropdown,citiesCollection:(0,k.collectCities)(c,i)}))}}]),t}(s.default.Component);O.defaultProps={placeholder:"城市/地區",width:"100%",cityName:"",areaName:"",onBlur:null},O.propTypes={placeholder:d.default.string,width:p.default.width,cityName:d.default.string,areaName:d.default.string,onBlur:d.default.func,onSelect:d.default.func.isRequired,dispatchFetchCities:d.default.func.isRequired,dispatchFetchAreas:d.default.func.isRequired,cities:p.default.cities.isRequired},t.default=(0,v.default)((0,_.default)(O,w.default))},1671:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(200),u=r(l),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(3),h=r(p),y=n(1588),m=r(y),v=n(134),b=r(v),_=n(14),g=r(_),w=n(5),C=r(w),E=n(1704),k=r(E),O=n(1700),S=r(O),x=n(1701),P=g.default.bind(k.default),N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBlur=n.onBlur.bind(n),n.onFocus=n.onFocus.bind(n),n.onChange=n.onChange.bind(n),n.onCounterUp=n.onCounterUp.bind(n),n.onCounterDown=n.onCounterDown.bind(n),n.format=n.format.bind(n),n.state={isFocusing:!1,value:n.props.value},n}return i(t,e),c(t,[{key:"onBlur",value:function(){var e=this.props.onBlur;e&&e(),this.setState({isFocusing:!1})}},{key:"onFocus",value:function(){this.setState({isFocusing:!0})}},{key:"onChange",value:function(e,t){this.setState({value:t});var n=(0,x.isBlankString)(t)?null:(0,x.stringToNumber)(t);this.dispatchOnChange(n)}},{key:"onCounterUp",value:function(){var e=this.state.value,t=e?(0,x.stringToNumber)(e):0,n=this.valueRanged(t+1);this.setState({value:n}),this.dispatchOnChange(n)}},{key:"onCounterDown",value:function(){var e=this.state.value,t=e?(0,x.stringToNumber)(e):1,n=this.valueRanged(t-1);this.setState({value:n}),this.dispatchOnChange(n)}},{key:"dispatchOnChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"valueRanged",value:function(e){var t=(0,x.checkInteger)(e),n=this.props,r=n.max,a=n.min;return r&&t>r?r.toString():a&&t<a?a.toString():e}},{key:"format",value:function(e){return""+this.valueRanged(e)+this.props.suffix}},{key:"checkDisabled",value:function(e){return e&&this.state.value>=e}},{key:"isUpDisable",value:function(){var e=this.props.max;return!1!==e&&this.state.value>=e}},{key:"isDownDisable",value:function(){var e=this.props.min,t=this.state.value;return(0,u.default)(t)||!1!==e&&t<=e}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.placeholder,r=e.suffix,a=this.state,o=a.value,i=a.isFocusing,l={value:o,suffix:r,placeholder:n,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,allowNegative:!1,decimalSeparator:!1,format:this.format};return f.default.createElement("div",{className:P("inputOuter",{isFocusing:i}),style:{width:t}},f.default.createElement(m.default,s({styleName:"input"},l)),f.default.createElement("div",{styleName:"controller"},f.default.createElement(S.default,{direction:"up",onClick:this.onCounterUp,clickDisabled:this.isUpDisable()}),f.default.createElement(S.default,{direction:"down",onClick:this.onCounterDown,clickDisabled:this.isDownDisable()})))}}]),t}(f.default.Component);N.defaultProps={placeholder:null,value:null,suffix:null,onChange:null,onBlur:null,width:null,max:30,min:1},N.propTypes={placeholder:h.default.string,value:h.default.oneOfType([h.default.number,h.default.string]),suffix:h.default.string,onChange:h.default.func,onBlur:h.default.func,width:h.default.oneOfType([h.default.number,h.default.string]),max:h.default.oneOfType([h.default.number,h.default.bool]).isRequired,min:h.default.oneOfType([h.default.number,h.default.bool]).isRequired},t.default=(0,b.default)((0,C.default)(N,k.default))},1675:function(e,t){e.exports={cityHeader:"DropdownAreas_cityHeader_2VvRc",backCitiesBtn:"DropdownAreas_backCitiesBtn_1DaKe",cityText:"DropdownAreas_cityText_EYyCU",areasWrapper:"DropdownAreas_areasWrapper_3FRbC Dropdown_colsWrapper_1tEik",areaContainer:"DropdownAreas_areaContainer_1OZFq Dropdown_colContainer_3VeyX",area:"DropdownAreas_area_i_0EX Dropdown_col_1yG-N"}},1676:function(e,t){e.exports={citiesWrapper:"DropdownCities_citiesWrapper_2Y7qS Dropdown_colsWrapper_1tEik",cityContainer:"DropdownCities_cityContainer_2Efmf Dropdown_colContainer_3VeyX",city:"DropdownCities_city_1uxwc Dropdown_col_1yG-N"}},1677:function(e,t){e.exports={colsWrapper:"Dropdown_colsWrapper_1tEik",colContainer:"Dropdown_colContainer_3VeyX",col:"Dropdown_col_1yG-N"}},1678:function(e,t){},1681:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),l=n(30),u=r(l),s=function(e){return i.default.createElement(u.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m33.4 18.4v3.2h-20.4l9.3 9.4-2.3 2.4-13.4-13.4 13.4-13.4 2.3 2.4-9.3 9.4h20.4z"})))};t.default=s,e.exports=t.default},1699:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(554),p=r(f),h=n(5),y=r(h),m=n(1761),v=r(m),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.marginBottom,r=e.width;return s.default.createElement("div",{styleName:"alert",style:{marginBottom:n,width:r,display:"auto"===r?"inline-block":null}},s.default.createElement("div",{styleName:"alertInner"},s.default.createElement("div",{styleName:"alertIcon"},s.default.createElement(p.default,{size:22})),s.default.createElement("div",{styleName:"alertText"},t)))}}]),t}(s.default.Component);b.defaultProps={marginBottom:null,width:"100%"},b.propTypes={message:d.default.string.isRequired,marginBottom:d.default.number,width:d.default.oneOf(["100%","auto"])},t.default=(0,y.default)(b,v.default)},1700:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(1611),p=r(f),h=n(1706),y=r(h),m=n(14),v=r(m),b=n(5),_=r(b),g=n(1703),w=r(g),C=v.default.bind(w.default),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.direction,r=e.clickDisabled;return s.default.createElement("button",{className:"button "+C("container",n,{petrified:r}),onClick:r?null:t},s.default.createElement("div",{className:C("arrowIcon")},"up"===n&&s.default.createElement(y.default,{size:22}),"down"===n&&s.default.createElement(p.default,{size:22})))}}]),t}(s.default.Component);E.defaultProps={clickDisabled:!1},E.propTypes={direction:d.default.oneOf(["up","down"]).isRequired,onClick:d.default.func.isRequired,clickDisabled:d.default.bool},t.default=(0,_.default)(E,w.default)},1701:function(e,t,n){"use strict";function r(e){return""===e}function a(e){var t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Not a number string!");return t}function o(e){if(/^\d+$/.test(e))return e;throw new Error("Not a number string!")}Object.defineProperty(t,"__esModule",{value:!0}),t.isBlankString=r,t.stringToNumber=a,t.checkInteger=o},1703:function(e,t){e.exports={inputer:"ArrowButton_inputer_2Ea9E",container:"ArrowButton_container_cj8zx",arrowIcon:"ArrowButton_arrowIcon_H5zFK",petrified:"ArrowButton_petrified_2-sHE",up:"ArrowButton_up_3x48D",down:"ArrowButton_down_3Djre"}},1704:function(e,t){e.exports={inputer:"TextCounter_inputer_1IT08",inputOuter:"TextCounter_inputOuter_2yx1O TextCounter_inputer_1IT08",isFocusing:"TextCounter_isFocusing_FYd-H",input:"TextCounter_input_3c6Ls TextCounter_inputer_1IT08",controller:"TextCounter_controller_3sgWz"}},1706:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),l=n(30),u=r(l),s=function(e){return i.default.createElement(u.default,a({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m12.3 25.7l-2.3-2.3 10-10 10 10-2.3 2.3-7.7-7.7z"})))};t.default=s,e.exports=t.default},1761:function(e,t){e.exports={alert:"AlertPanel_alert_2Qe2h",alertInner:"AlertPanel_alertInner_1gECZ",alertIcon:"AlertPanel_alertIcon_hDSQL",alertText:"AlertPanel_alertText_5I6eB"}},1791:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAll=t.validateAllBy=t.validateRegulation=t.validateRegulationBy=t.validatePrice=t.validatePriceBy=t.validateDelivery=t.validateDeliveryBy=t.validateAbout=t.validateAboutBy=t.validateCovers=t.validateCoversBy=void 0;var a=n(201),o=r(a),i=n(85),l=r(i),u=n(154),s=r(u),c=n(132),d=n(323),f=r(d),p=n(330),h=n(211),y=t.validateCoversBy=function(e){var t=(0,o.default)(e,{isStored:!0}).length;return{isValid:t>0,errors:[e.length,t]}},m=t.validateCovers=function(){return function(e,t){return new Promise(function(e,n){var r=t()[h.REDUCER_KEY],a=y(r),o=a.isValid,i=a.errors;o?e():n(i)})}},v=t.validateAboutBy=function(e){var t=e.title,n=e.descript,r=e.cityName,a=e.areaName,o=e.categoryID,i=e.tag1,u=e.tag2,c=e.tag3,d=(0,s.default)({title:t,descript:n,cityArea:""+r+a,category:o,tag1:i,tag2:u,tag3:c},{title:f.default.title,descript:f.default.descript,cityArea:f.default.cityArea,category:f.default.category,tag1:f.default.tag,tag2:f.default.tag,tag3:f.default.tag});return{isValid:(0,l.default)(d),errors:d}},b=t.validateAbout=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=r.title,o=r.descript,i=r.cityName,l=r.areaName,u=r.categoryID,s=r.tag1,c=r.tag2,d=r.tag3,f=v({title:a,descript:o,cityName:i,areaName:l,categoryID:u,tag1:s,tag2:c,tag3:d}),h=f.isValid,y=f.errors;h?e():n(y)})}},_=t.validateDeliveryBy=function(e){var t=e.returnCity,n=e.returnArea,r=e.returnAddress,a=e.sendBy711,o=e.sendByOtherShippment,i=e.sendByInPerson,u=e.returnBy711,c=e.returnByOtherShippment,d=e.returnByInPerson,p=e.storeid,h=e.Rstoreid,y="";return a||o||i?a&&(y=(0,s.default)({Rstoreid:h},{Rstoreid:f.default.storeid}),!(0,l.default)(y))?{isValid:!1,errors:y}:u||c||d?u&&(y=(0,s.default)({storeid:p},{storeid:f.default.storeid}),!(0,l.default)(y))?{isValid:!1,errors:y}:c&&(y=(0,s.default)({cityArea:""+t+n,returnAddress:r},{cityArea:f.default.cityArea,returnAddress:f.default.address}),!(0,l.default)(y))?{isValid:!1,errors:y}:{isValid:(0,l.default)(y),errors:y}:{isValid:!1,errors:{optionError:"至少選擇一個還貨選項"}}:{isValid:!1,errors:{optionError:"至少選擇一個出貨選項"}}},g=t.validateDelivery=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=_(r),o=a.isValid,i=a.errors;o?e():n(i)})}},w=t.validatePriceBy=function(e){var t=e.price,n=e.deposit,r=e.unit,a=e.minimumShippemntDay,o=e.discounts,i=parseInt(t,10)||0,u=parseInt(n,10)||0;if(i+u>d.PRICE_MAX)return{isValid:!1,errors:{totalError:"總計不得超過 "+(0,c.formatCurrency)(d.PRICE_MAX)}};var p=(0,s.default)({price:t,deposit:n,unit:r,minimumShippemntDay:a},{price:f.default.price,deposit:f.default.deposit,unit:f.default.goodsUnit,minimumShippemntDay:f.default.minimumShippemntDay});return p||o.forEach(function(e){var t=e.param,n=e.discount,r=(0,s.default)({param:t,val:n},{param:f.default.discountParam,val:f.default.discountVal(i)});(0,l.default)(p)&&(p=r)}),{isValid:(0,l.default)(p),errors:p}},C=t.validatePrice=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=w(r),o=a.isValid,i=a.errors;o?e():n(i)})}},E=t.validateRegulationBy=function(e){var t=e.regulation,n=(0,s.default)({regulation:t},{regulation:f.default.regulation});return{isValid:(0,l.default)(n),errors:n}},k=t.validateRegulation=function(){return function(e,t){return new Promise(function(e,n){var r=t()[p.REDUCER_KEY],a=E(r),o=a.isValid,i=a.errors;o?e():n(i)})}};t.validateAllBy=function(e,t){var n=y(t),r=n.isValid,a=v(e),o=a.isValid,i=_(e),l=i.isValid,u=w(e),s=u.isValid,c=E(e),d=c.isValid;return r&&o&&l&&s&&d},t.validateAll=function(){return function(e){return new Promise(function(t,n){var r=[e(m()),e(b()),e(g()),e(C()),e(k())];Promise.all(r).then(function(e){return t(e)}).catch(function(e){return n(e)})})}}},1924:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAll=t.validateAllBy=t.validateAccountBank=t.validateDelivery=t.validateDeliveryBy=t.validateAbout=t.validateAboutBy=t.validateCovers=t.validateCoversBy=void 0;var a=n(201),o=r(a),i=n(85),l=r(i),u=n(154),s=r(u),c=n(132),d=n(323),f=r(d),p=n(209),h=n(332),y=n(217),m=t.validateCoversBy=function(e){var t=(0,o.default)(e,{isStored:!0}).length;return{isValid:t>0,errors:[e.length,t]}},v=t.validateCovers=function(){return function(e,t){return new Promise(function(e,n){var r=t()[y.REDUCER_KEY],a=m(r),o=a.isValid,i=a.errors;o?e():n(i)})}},b=t.validateAboutBy=function(e){var t=e.title,n=e.descript,r=e.cityName,a=e.areaName,o=e.price,i=e.unit,u=e.categoryID,c=e.tag1,d=e.tag2,p=e.tag3,h=(0,s.default)({title:t,descript:n,cityArea:""+r+a,category:u,price:o,unit:i,tag1:c,tag2:d,tag3:p},{title:f.default.title,descript:f.default.descript,cityArea:f.default.cityArea,category:f.default.category,price:f.default.price,unit:f.default.goodsUnit,tag1:f.default.tag,tag2:f.default.tag,tag3:f.default.tag});return{isValid:(0,l.default)(h),errors:h}},_=t.validateAbout=function(){return function(e,t){return new Promise(function(e,n){var r=t()[h.REDUCER_KEY],a=r.title,o=r.descript,i=r.cityName,l=r.areaName,u=r.categoryID,s=r.price,f=r.unit,p=r.tag1,y=r.tag2,m=r.tag3;if((parseInt(s,10)||0)>d.PRICE_MAX)return{isValid:!1,errors:{totalError:"總計不得超過 "+(0,c.formatCurrency)(d.PRICE_MAX)}};var v=b({title:a,descript:o,cityName:i,areaName:l,price:s,unit:f,categoryID:u,tag1:p,tag2:y,tag3:m}),_=v.isValid,g=v.errors;_?e():n(g)})}},g=t.validateDeliveryBy=function(e){var t=e.sendBy711,n=e.sendByOtherShippment,r=e.sendByInPerson,a=e.storeid,o="";return t||n||r?(t&&(o=(0,s.default)({storeid:a},{storeid:f.default.storeid})),{isValid:(0,l.default)(o),errors:o}):{isValid:!1,errors:{optionError:"至少選擇一個出貨選項"}}},w=t.validateDelivery=function(){return function(e,t){return new Promise(function(e,n){var r=t()[h.REDUCER_KEY],a=g(r),o=a.isValid,i=a.errors;o?e():n(i)})}},C=t.validateAccountBank=function(){return function(e,t){return new Promise(function(e,n){t()[p.REDUCER_KEY].isReady?e():n({optionError:"銀行帳戶未設定"})})}};t.validateAllBy=function(e,t,n){var r=m(t),a=r.isValid,o=b(e),i=o.isValid,l=g(e),u=l.isValid;return a&&i&&u&&n},t.validateAll=function(){return function(e){return new Promise(function(t,n){var r=[e(v()),e(_()),e(w()),e(C())];Promise.all(r).then(function(e){return t(e)}).catch(function(e){return n(e)})})}}},2187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(1553),p=r(f),h=n(520),y=r(h),m=n(1590),v=r(m),b=n(1623),_=r(b),g=n(208),w=r(g),C=n(1699),E=r(C),k=n(1671),O=r(k),S=n(1552),x=r(S),P=n(157),N=r(P),D=n(5),R=r(D),B=n(2303),T=r(B),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNextStepClick=n.onNextStepClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.clearCookie=n.clearCookie.bind(n),n.handleStorage=n.handleStorage.bind(n),n.createSevenFormPost=n.createSevenFormPost.bind(n),n.windowRef=null,n.chooseType=0,n.state={optionError:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.dispatchTouchPath(),this.clearCookie(),localStorage.removeItem("711_callback"),window.addEventListener("focus",this.handleFocus,!1),window.addEventListener("storage",this.handleStorage,!1),this.windowRef&&this.windowRef.close()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.handleFocus,!1),window.removeEventListener("storage",this.handleStorage,!1),localStorage.removeItem("711_callback"),this.clearCookie(),this.windowRef&&this.windowRef.close()}},{key:"onNextStepClick",value:function(){var e=this,t=this.props,n=t.dispatchValidate,r=t.nextStep;n().then(function(){r()}).catch(function(t){var n=t.optionError;if(n)return void e.setState({optionError:n});e.setState({optionError:""}),e.cityAreaInput.valid(),e.addressInput.valid()})}},{key:"clearCookie",value:function(){document.cookie="storeid=;max-age=1",document.cookie="storename=;max-age=1",document.cookie="storeaddress=;max-age=1"}},{key:"handleStorage",value:function(){localStorage.removeItem("711_callback"),this.handleFocus()}},{key:"handleFocus",value:function(){var e=this.props.dispatchChangeData,t=function(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t?t[1]:""},n=t("storeid");if(""!==n){var r=decodeURI(t("storename")),a=decodeURI(t("storeaddress"));switch(this.chooseType){case 1:e({Rstoreid:n,Rstorename:r,Rstoreaddress:a});break;case 2:e({storeid:n,storename:r,storeaddress:a})}this.chooseType=0,this.clearCookie(),this.windowRef&&this.windowRef.close()}}},{key:"createSevenFormPost",value:function(e){this.chooseType=e;var t=function(e,t){var n=document.createElement("input");return n.value=t,n.name=e,n.type="hidden",n};this.windowRef&&this.windowRef.close();var n=!!document.documentMode,r=!n&&!!window.StyleMedia;if(n||r){var a=window.open("/p/sevenEleven");this.windowRef=a}else{var o=window.open("temp.html","","width=1000, height=800, left=400, top=200");this.windowRef=o;var i=o.document.createElement("form");i.method="post",i.action="https://emap.pcsc.com.tw/ecmap/default.aspx",i.appendChild(t("eshopparid","935")),i.appendChild(t("eshopid","001")),i.appendChild(t("eshoppwd","presco123")),i.appendChild(t("url","http://debug.shareapp.com.tw:10380/ajax/store_result.json")),i.appendChild(t("tempvar","")),i.appendChild(t("sid","1")),i.appendChild(t("storecategory","3")),i.appendChild(t("showtype","1")),i.appendChild(t("storeid","")),o.document.getElementsByTagName("body")[0].appendChild(i),i.submit()}}},{key:"renderReturnAddress",value:function(e,t){var n=this,r=t.returnCity,a=t.returnArea,o=t.returnAddress;if(!e)return null;var i=this.props.dispatchChangeData;return s.default.createElement("div",{styleName:"assign-address"},s.default.createElement("div",null,"為保護您的個資，您的聯絡資訊只有在您同意預訂單後才會提供給使用人喔！"),s.default.createElement("div",{styleName:"assign-cityarea"},s.default.createElement(_.default,{ref:function(e){return n.cityAreaInput=e&&e.getWrappedInstance()},cityName:r,areaName:a,value:""+r+a,onSelect:function(e){var t=e.cityName,n=e.areaName;return i({returnCity:t,returnArea:n})},constraints:N.default.cityArea,validateOnBlur:!0})),s.default.createElement("div",{styleName:"assign-address-detail"},s.default.createElement(w.default,{ref:function(e){return n.addressInput=e},placeholder:"請輸入詳細地址",onChange:function(e){return i({returnAddress:e})},value:o,constraints:N.default.address,validateOnBlur:!0})))}},{key:"renderSeven",value:function(e){var t=this,n="",r="",a="";if(1===e){var o=this.props.publish,i=o.sendBy711,l=o.Rstoreid,u=o.Rstorename,c=o.Rstoreaddress;if(!i)return null;n=l,r=u,a=c}else{var d=this.props.publish,f=d.returnBy711,p=d.storeid,h=d.storename,y=d.storeaddress;if(!f)return null;n=p,r=h,a=y}return s.default.createElement("div",{styleName:"seven-content"},s.default.createElement("div",{styleName:"seven-result-content"},s.default.createElement("span",{styleName:"seven-title"},1===e?"對方未收貨，物品將退回：":"還貨門市："),""===n?s.default.createElement("span",{styleName:"seven-empty"},"尚未設定"):s.default.createElement("span",{styleName:"seven-result"},r,"(",n,")",a)),s.default.createElement("button",{styleName:"seven-button",className:"button",onClick:function(){t.createSevenFormPost(e)}},"選擇門市"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.publish,r=t.dispatchChangeData,a=t.isValid,o=n.sendBy711,i=n.sendByOtherShippment,l=n.sendByInPerson,u=n.returnBy711,c=n.returnByOtherShippment,d=n.returnByInPerson,f=n.minimumShippemntDay,h=this.state.optionError;return s.default.createElement(p.default,{title:"寄件資訊"},s.default.createElement(y.default,{headerText:"預計物流時間"},s.default.createElement(O.default,{ref:function(t){return e.unitInput=t},value:f?String(f):"",suffix:"天",placeholder:"請預估物流時間",min:1,max:7,onChange:function(e){return r({minimumShippemntDay:e})},constraints:N.default.serviceUnit,validateOnBlur:!0})),s.default.createElement(y.default,{headerText:"提供寄件方式",multiple:!0,large:!0},s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!o,onChange:function(e){return r({sendBy711:e})}},s.default.createElement("span",{styleName:"option-label"},"7-11交貨便"))),this.renderSeven(1),s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!i,onChange:function(e){return r({sendByOtherShippment:e})}},s.default.createElement("span",{styleName:"option-label"},"宅配、郵寄"))),s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!l,onChange:function(e){return r({sendByInPerson:e})}},s.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）")))),s.default.createElement(y.default,{headerText:"接受寄還方式",multiple:!0,large:!0},s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!u,onChange:function(e){return r({returnBy711:e})}},s.default.createElement("span",{styleName:"option-label"},"7-11交貨便"))),this.renderSeven(2),s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!c,onChange:function(e){return r({returnByOtherShippment:e})}},s.default.createElement("span",{styleName:"option-label"},"宅配、郵寄"))),this.renderReturnAddress(c,n),s.default.createElement("div",{styleName:"option"},s.default.createElement(v.default,{checked:!!d,onChange:function(e){return r({returnByInPerson:e})}},s.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）")))),h&&s.default.createElement(E.default,{message:h,marginBottom:40}),s.default.createElement(x.default,{status:a?S.STATUS_VALID:S.STATUS_DISABLE,onClick:this.onNextStepClick}))}}]),t}(s.default.Component);j.propTypes={publish:d.default.shape({sendBy711:d.default.bool,Rstoreid:d.default.string,Rstorename:d.default.string,Rstoreaddress:d.default.string,returnBy711:d.default.bool,storeid:d.default.string,storename:d.default.string,storeaddress:d.default.string}).isRequired,dispatchChangeData:d.default.func.isRequired,dispatchValidate:d.default.func.isRequired,dispatchTouchPath:d.default.func.isRequired,isValid:d.default.bool.isRequired,nextStep:d.default.func.isRequired},t.default=(0,R.default)(j,T.default)},2209:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(3),d=r(c),f=n(1553),p=r(f),h=n(520),y=r(h),m=n(86),v=(r(m),n(1590)),b=r(v),_=n(1699),g=r(_),w=n(1671),C=r(w),E=n(1552),k=r(E),O=n(157),S=r(O),x=n(5),P=r(x),N=n(2325),D=r(N),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createSevenFormPost=function(){var e=function(e,t){var n=document.createElement("input");return n.value=t,n.name=e,n.type="hidden",n};n.windowRef&&n.windowRef.close();var t=!!document.documentMode,r=!t&&!!window.StyleMedia;if(t||r){var a=window.open("/p/sevenEleven");n.windowRef=a}else{var o=window.open("temp.html","","width=1000, height=800, left=400, top=200");n.windowRef=o;var i=o.document.createElement("form");i.method="post",i.action="https://emap.pcsc.com.tw/ecmap/default.aspx",i.appendChild(e("eshopparid","935")),i.appendChild(e("eshopid","001")),i.appendChild(e("eshoppwd","presco123")),i.appendChild(e("url","http://debug.shareapp.com.tw:10380/ajax/store_result.json")),i.appendChild(e("tempvar","")),i.appendChild(e("sid","1")),i.appendChild(e("storecategory","3")),i.appendChild(e("showtype","1")),i.appendChild(e("storeid","")),o.document.getElementsByTagName("body")[0].appendChild(i),i.submit()}},n.onNextStepClick=n.onNextStepClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.clearCookie=n.clearCookie.bind(n),n.handleStorage=n.handleStorage.bind(n),n.createSevenFormPost=n.createSevenFormPost.bind(n),n.windowRef=null,n.state={optionError:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.dispatchTouchPath(),this.clearCookie(),localStorage.removeItem("711_callback"),window.addEventListener("focus",this.handleFocus,!1),window.addEventListener("storage",this.handleStorage,!1),this.windowRef&&this.windowRef.close()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.handleFocus,!1),window.removeEventListener("storage",this.handleStorage,!1),localStorage.removeItem("711_callback"),this.clearCookie(),this.windowRef&&this.windowRef.close()}},{key:"onNextStepClick",value:function(){var e=this,t=this.props,n=t.dispatchValidate,r=t.nextStep;n().then(function(){r()}).catch(function(t){var n=t.optionError;if(n)return void e.setState({optionError:n});e.setState({optionError:""}),e.cityAreaInput.valid(),e.addressInput.valid()})}},{key:"clearCookie",value:function(){document.cookie="storeid=;max-age=1",document.cookie="storename=;max-age=1",document.cookie="storeaddress=;max-age=1"}},{key:"handleStorage",value:function(e){localStorage.removeItem("711_callback"),this.handleFocus(e)}},{key:"handleFocus",value:function(e){var t=this.props.dispatchChangeData,n=function(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t?t[1]:""},r=n("storeid");if(""!==r){t({storeid:r,storename:decodeURI(n("storename")),storeaddress:decodeURI(n("storeaddress"))}),this.clearCookie(),this.windowRef&&this.windowRef.close()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.publish,r=t.dispatchChangeData,a=t.isValid,o=n.sendBy711,i=n.sendByOtherShippment,l=n.sendByInPerson,u=n.minimumShippemntDay,c=n.storeid,d=n.storename,f=n.storeaddress,h=this.state.optionError;return s.default.createElement(p.default,{title:"寄件資訊"},s.default.createElement(y.default,{headerText:"預計物流時間"},s.default.createElement(C.default,{ref:function(t){return e.unitInput=t},value:u?String(u):"",suffix:"天",placeholder:"請預估物流時間",min:1,max:7,onChange:function(e){return r({minimumShippemntDay:e})},constraints:S.default.serviceUnit,validateOnBlur:!0})),s.default.createElement(y.default,{headerText:"提供寄件方式",multiple:!0,large:!0},s.default.createElement("div",{styleName:"option"},s.default.createElement(b.default,{checked:!!i,onChange:function(e){return r({sendByOtherShippment:e})}},s.default.createElement("span",{styleName:"option-label"},"宅配、郵寄"))),s.default.createElement("div",{styleName:"option"},s.default.createElement(b.default,{checked:!!l,onChange:function(e){return r({sendByInPerson:e})}},s.default.createElement("span",{styleName:"option-label"},"面交（自行協調取貨地點）"))),s.default.createElement("div",{styleName:"option"},s.default.createElement(b.default,{checked:!!o,onChange:function(e){return r({sendBy711:e})}},s.default.createElement("span",{styleName:"option-label"},"7-11 交貨便"))),o&&s.default.createElement("div",{styleName:"seven-content"},s.default.createElement("div",{styleName:"seven-result"},"對方未收貨，物品將退回：",""===c?"尚未設定":d+"("+c+") "+f),s.default.createElement("button",{styleName:"seven-button",className:"button",onClick:function(){e.createSevenFormPost()}},"選擇門市"))),h&&s.default.createElement(g.default,{message:h,marginBottom:40}),s.default.createElement(k.default,{status:a?E.STATUS_VALID:E.STATUS_DISABLE,onClick:this.onNextStepClick}))}}]),t}(s.default.Component);R.propTypes={publish:d.default.object.isRequired,dispatchChangeData:d.default.func.isRequired,dispatchValidate:d.default.func.isRequired,dispatchTouchPath:d.default.func.isRequired,isValid:d.default.bool.isRequired,nextStep:d.default.func.isRequired},t.default=(0,P.default)(R,D.default)},2303:function(e,t){e.exports={noticeList:"StepDelivery_noticeList_VnCnr",option:"StepDelivery_option_2ooD1","option-label":"StepDelivery_option-label_10Xgl","assign-address":"StepDelivery_assign-address_3Plx0","assign-cityarea":"StepDelivery_assign-cityarea_3AKO7","assign-address-detail":"StepDelivery_assign-address-detail_IV-AN","seven-content":"StepDelivery_seven-content_3TUgN","seven-button":"StepDelivery_seven-button_1Vh20","seven-result-content":"StepDelivery_seven-result-content_JmQDG","seven-title":"StepDelivery_seven-title_BrgEB","seven-result":"StepDelivery_seven-result_3-bgW","seven-empty":"StepDelivery_seven-empty_1ytCb"}},2325:function(e,t){e.exports={noticeList:"StepDelivery_noticeList_2Po8b",option:"StepDelivery_option_RqdoR","option-label":"StepDelivery_option-label_BchbA","assign-address":"StepDelivery_assign-address_eMWwH","assign-cityarea":"StepDelivery_assign-cityarea_2BUcT","assign-address-detail":"StepDelivery_assign-address-detail_2qJsF","seven-content":"StepDelivery_seven-content_3R2FI","seven-button":"StepDelivery_seven-button_33cYf","seven-result":"StepDelivery_seven-result_myEvV"}}});