webpackJsonp([58],{1482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(2173),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(210),u=function(e){return{environment:e.environment,notify:e.notify}},c=function(e){return{dispatch:e,dispatchUnreadCount:function(){return e((0,a.fetchUnreadCount)(a.TYPE_ACTIVITY))},dispatchReset:function(){return e((0,a.reset)())},dispatchMore:function(){return e((0,a.fetchMoreData)())}}};t.default=(0,r.connect)(u,c)(i.default)},1551:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(11),p=r(d),y=n(155),h=r(y),_=n(5),m=r(_),b=n(1552),v=r(b),T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"renderContent",value:function(){var e=this.props,t=e.isInitialFetching,n=e.noDataText,r=e.children;return t?l.default.createElement(h.default,null):n?l.default.createElement("div",{styleName:"no-data"},n):r}},{key:"render",value:function(){var e=this.props.minHeight;return l.default.createElement("div",{styleName:"container",style:{minHeight:e}},this.renderContent())}}]),t}(l.default.Component);T.defaultProps={minHeight:400,noDataText:null},T.propTypes={children:p.default.children.isRequired,noDataText:s.default.string,minHeight:s.default.number,isInitialFetching:s.default.bool.isRequired},t.default=(0,m.default)(T,v.default)},1552:function(e,t){e.exports={container:"ListContainer_container_2ZP1q","no-data":"ListContainer_no-data_2O1SC"}},1560:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(11),p=r(d),y=n(521),h=r(y),_=n(5),m=r(_),b=n(1561),v=r(b),T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.isPaginable,n=e.isFetching,r=e.loadMore,o=e.children,i=this.constructor.renderLoadMore;return l.default.createElement("div",{styleName:"container"},o,t&&i({isFetching:n,loadMore:r}))}}],[{key:"renderLoadMore",value:function(e){var t=e.isFetching,n=e.loadMore;return l.default.createElement("div",{styleName:"load-more-container"},l.default.createElement(h.default,{isLoading:t,onClick:n}))}}]),t}(l.default.Component);T.propTypes={isPaginable:s.default.bool.isRequired,isFetching:s.default.bool.isRequired,loadMore:s.default.func.isRequired,children:p.default.children.isRequired},t.default=(0,m.default)(T,v.default)},1561:function(e,t){e.exports={container:"PaginationContainer_container_vQjgF","load-more-container":"PaginationContainer_load-more-container_1O7SV"}},1921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default={navs:[{name:"訂單狀態",href:r.notifyPath.contractNotifyPath,tabName:"CONTRACT"},{name:"即時資訊",href:r.notifyPath.itemNotifyPath,tabName:"ITEM"},{name:"活動快報",href:r.notifyPath.activityNotifyPath,tabName:"ACTIVITY"},{name:"系統通知",href:r.notifyPath.systemNotifyPath,tabName:"SYSTEM"}]}},1923:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(5),p=r(d),y=n(1938),h=r(y),_=n(11),m=r(_),b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.titleText,r=e.children;return l.default.createElement("div",{styleName:"container"},l.default.createElement("div",{styleName:"header"},l.default.createElement("h1",{styleName:"title"},t&&t({size:48,style:{verticalAlign:"top"}}),l.default.createElement("span",{styleName:"text"},n))),l.default.createElement("div",{styleName:"body"},r))}}]),t}(l.default.Component);b.defaultProps={icon:null},b.propTypes={icon:s.default.func,titleText:s.default.string.isRequired,children:m.default.children.isRequired},t.default=(0,p.default)(b,h.default)},1924:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(23),p=n(14),y=r(p),h=n(5),_=r(h),m=n(1939),b=r(m),v=y.default.bind(b.default),T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"renderCircle",value:function(e){return e in this.props.unreads&&this.props.unreads[e]>0?l.default.createElement("div",{styleName:"notice-circle"},this.props.unreads[e]):null}},{key:"render",value:function(){var e=this,t=this.props.navs;return l.default.createElement("div",{styleName:"container"},l.default.createElement("ul",{className:"clear"},t.map(function(t,n){return l.default.createElement(d.Link,{key:""+(n+1),to:t.href,activeClassName:v("active"),onlyActiveOnIndex:!0},l.default.createElement("li",null,t.name,e.renderCircle(t.tabName)))})))}}]),t}(l.default.Component);T.propTypes={navs:s.default.arrayOf(s.default.shape({name:s.default.string.isRequired,href:s.default.string.isRequired,tabName:s.default.string.isRequired}).isRequired).isRequired,unreads:s.default.shape({CONTRACT:s.default.number.isRequired,ACTIVITY:s.default.number.isRequired,SYSTEM:s.default.number.isRequired,ITEM:s.default.number.isRequired}).isRequired},T.defaultProps={unreads:{CONTRACT:0,ACTIVITY:0,SYSTEM:0,ITEM:0}},t.default=(0,_.default)(T,b.default)},1938:function(e,t){e.exports={container:"Container_container_3Zv-D",header:"Container_header_MsHWC",title:"Container_title_3U9FG",text:"Container_text_378tI",body:"Container_body_3X6iY"}},1939:function(e,t){e.exports={container:"Navigation_container_iGeds","notice-circle":"Navigation_notice-circle_2u16R",active:"Navigation_active_lQPVb"}},1962:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(322),p=r(d),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.color;return l.default.createElement("svg",{width:t,height:t,viewBox:"0 0 34 38",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("g",{fill:"none",fillRule:"evenodd"},l.default.createElement("g",{transform:"translate(-213 -291)"},l.default.createElement("g",{transform:"translate(205 285)"},l.default.createElement("path",{d:"M39.4069132,30.7461209 L39.4071621,30.7463359 C38.7305028,30.1620257 38.4729763,29.9052952 38.2684488,29.5417492 C37.564491,28.4263513 37.2725681,26.7407524 36.964379,23.5070327 C36.9342489,23.190051 36.91461,22.9878481 36.8971852,22.8124568 C36.4146855,19.4705185 35.3493678,16.3800597 33.5043014,13.9173929 C32.0042517,11.9155956 30.1442467,10.5888402 27.9626041,9.95821877 L27.6322835,9.86273693 L27.6032362,9.5201224 C27.4911865,8.19848788 26.3597272,7.16666667 24.9999899,7.16666667 C23.6399557,7.16666667 22.5084201,8.19864531 22.3967561,9.52041191 L22.3677945,9.86323029 L22.0372634,9.95868925 C19.8556285,10.5887559 17.995778,11.9154463 16.4956727,13.917948 C14.6547581,16.3745284 13.5868223,19.4631109 13.1120558,22.7351727 C13.0867329,22.9753681 13.0684762,23.1610997 13.0355901,23.5069258 C12.7270594,26.7450616 12.443801,28.4129856 11.7844564,29.4520568 C11.5349904,29.8913047 11.266356,30.1644492 10.5933272,30.7462931 C10.2732834,31.0229185 10.1229939,31.1582772 9.93760636,31.3450388 C8.73719387,32.5543484 8.42386545,33.8141948 9.39699323,35.5958831 C9.59721605,35.9625987 9.94237989,36.1666667 10.385093,36.1666667 L39.6151089,36.1666667 C40.0344089,36.1666667 40.4100084,35.9490253 40.6032209,35.5959702 C41.5761118,33.8143002 41.2627348,32.5543819 40.0622799,31.3447445 C39.876993,31.1580403 39.7267283,31.0226557 39.4069132,30.7461209 Z",stroke:""+n}),l.default.createElement("path",{d:"M29.0660685,38.3333333 L21.0947165,38.3333333 C20.6566817,38.3333333 20.3985825,38.4932307 20.2590132,38.633875 C20.0549802,38.8396748 19.9669085,39.1203109 20.011189,39.4311861 C20.3278804,41.6569133 22.4715719,43.3333333 24.9978864,43.3333333 C27.5519679,43.3333333 29.6985951,41.6330919 29.9909445,39.3797362 C30.010149,39.2321303 30.0247053,38.8662156 29.7474016,38.5894954 C29.5770071,38.4195909 29.3350544,38.3333333 29.0660685,38.3333333 Z",fill:""+n})))))}}]),t}(l.default.Component);y.defaultProps={size:30,color:p.default.primaryColor},y.propTypes={size:s.default.oneOfType([s.default.string,s.default.number]).isRequired,color:s.default.string.isRequired},t.default=y},2015:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.color;return l.default.createElement("svg",{width:t,height:t,viewBox:"0 0 39 40",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("g",{fill:"none",fillRule:"evenodd"},l.default.createElement("g",{transform:"translate(-211 -291)"},l.default.createElement("g",{transform:"translate(205 285)"},l.default.createElement("g",{transform:"translate(6 6)"},l.default.createElement("path",{d:"M16.5,25.1579664 L16.5,39.5 L13.136248,39.5 L7.3442264,21.5973878 L16.5,25.1579664 Z",stroke:n}),l.default.createElement("path",{d:"M7.5,12.3420187 L7.5,21.6579664 L24.4999342,28.269052 L24.4979043,5.73092866 L7.5,12.3420187 Z",stroke:n}),l.default.createElement("rect",{stroke:n,x:"24.5",y:".5",width:"7",height:"33",rx:"3"}),l.default.createElement("path",{d:"M7.5,21.5 L7.5,12.5 L3,12.5 C1.61928813,12.5 0.5,13.6192881 0.5,15 L0.5,19 C0.5,20.3807119 1.61928813,21.5 3,21.5 L7.5,21.5 Z",stroke:n}),l.default.createElement("path",{d:"M33.3333333,21.6666667 C36.0947571,21.6666667 38.3333333,19.4280904 38.3333333,16.6666667 C38.3333333,13.9052429 36.0947571,11.6666667 33.3333333,11.6666667 C33.3333333,12.4064092 33.3333333,20.7894476 33.3333333,21.6666667 Z",stroke:n}))))))}}]),t}(l.default.Component);d.defaultProps={size:40,color:"#999999"},d.propTypes={size:s.default.oneOfType([s.default.string,s.default.number]).isRequired,color:s.default.string.isRequired},t.default=d},2025:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(18),p=n(5),y=r(p),h=n(14),_=r(h),m=n(322),b=r(m),v=n(2041),T=r(v),g=n(1962),E=r(g),C=n(2015),O=r(C),P=n(210),w=_.default.bind(T.default),j=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSystemType",value:function(){return this.props.type===P.TYPE_SYSTEM}},{key:"isLinkable",value:function(){var e=this.props.contentType;return e&&1===e}},{key:"renderLinkable",value:function(e){var t=this.props.url;return l.default.createElement("a",{href:t,styleName:"link"},e)}},{key:"render",value:function(){var e=this.props,t=e.createTime,n=e.isRead,r=e.message,o=this.isSystemType()?E.default:O.default;return l.default.createElement("div",{className:"clear "+w("container",{highlight:!n})},l.default.createElement("div",{styleName:"icon"},l.default.createElement(o,{size:34,color:b.default.primaryColor})),l.default.createElement("div",{styleName:"content"},this.isLinkable()?this.renderLinkable(r):l.default.createElement("div",null,r),l.default.createElement("div",{styleName:"time"},(0,d.formatDate)(t))))}}]),t}(l.default.Component);j.defaultProps={url:"/",contentType:null},j.propTypes={url:s.default.string,contentType:s.default.number,type:s.default.number.isRequired,message:s.default.string.isRequired,createTime:s.default.number.isRequired,isRead:s.default.bool.isRequired},t.default=(0,y.default)(j,T.default)},2041:function(e,t){e.exports={container:"NotifyActivityBoard_container_13keA",highlight:"NotifyActivityBoard_highlight_1XAvj",icon:"NotifyActivityBoard_icon_XtR4N",content:"NotifyActivityBoard_content_3CCks",link:"NotifyActivityBoard_link_dJNAd",time:"NotifyActivityBoard_time_PoVzQ"}},210:function(e,t,n){"use strict";function r(e,t,n,r,o){return function(i,a){r===a()[y].expireFlag&&i(x(e,t,n,o))}}function o(e,t){return function(n,r){t===r()[y].expireFlag&&n(I(e))}}function i(e,t){var n=[];return e.notifications.map(function(e){var r=e.id,o=e.content,i=e.type,a=e.create_time,u=JSON.parse(o),c={id:r,message:u.content,contentType:u.type,type:i,url:u.url,createTime:a,isRead:a<=t};return n.push(c),n}),n}function a(e,t){var n=e.notifications;return n&&0!==n.length?n.map(function(e){var n=e.content,r=e.id,o=e.create_time,i=JSON.parse(n);return{id:r,itemImage:i.item_img,message:i.content,cid:i.cid,createTime:o,isRead:o<=t}}):[]}function u(e,t){var n=e.notifications;return n&&0!==n.length?n.map(function(e){var n=e.type,r=e.content,o=e.create_time,i=JSON.parse(r),a=i.type||0,u=void 0;return n===w&&a===R?u=(0,d.itemPath)("",i.pid):n===N&&(u=d.wishRouter.detailPath(i.id)),{type:n,contentType:a,url:u,message:i.content,createTime:o,isRead:o<=t}}):[]}function c(){return function(e,t){var n=t()[y],r=n.fetchType,c=n.index,l=n.records,d=n.recursiveTimes,_=n.lastReadTime,m=Date.now();e(M(r,m)),(0,f.asyncXhrAuthedPost)("/ajax/get_notify.json",{type:r,index:c,size:h},t()).then(function(t){var n=[];switch(r){case O:n=a(t,_);break;case P:case j:n=i(t,_);break;case w:n=u(t,_)}if((0,s.reduceDuplicateRecords)(n,l,p).length<n.length&&d<=C)return void e(I());e(S()),e(o(n,m))})}}function l(e){return function(t,n){var o=Date.now();t(M(e,o)),(0,f.asyncXhrAuthedPost)("/ajax/count_unread_notify.json",{},n()).then(function(c){var l={CONTRACT:c.contract_unread_count,ITEM:c.instant_info_unread_count,ACTIVITY:c.marketing_unread_count,SYSTEM:c.system_unread_count};t(k(l));var s=0,d=h;switch(e){case P:d=d<c.marketing_unread_count?c.marketing_unread_count:d;break;case O:d=d<c.contract_unread_count?c.contract_unread_count:d;break;case j:d=d<c.system_unread_count?c.system_unread_count:d;break;case w:d=d<c.instant_info_unread_count?c.instant_info_unread_count:d}d+=d%10+1,(0,f.asyncXhrAuthedPost)("/ajax/get_notify.json",{type:e,index:s,size:d},n()).then(function(n){var c=[],l=n.last_read_time;switch(e){case O:c=a(n,l);break;case P:case j:c=i(n,l);break;case w:c=u(n,l)}var f=c.length===d;s=f?d-1:d,f&&c.pop(),t(r(c,f,s,o,l))})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.CONTENT_TYPE_ITEM=t.CONTENT_TYPE_WEB=t.CONTENT_TYPE_NONE=t.TYPE_WISH=t.TYPE_SYSTEM=t.TYPE_ITEM=t.TYPE_ACTIVITY=t.TYPE_CONTRACT=void 0,t.parseActivityNotify=i,t.parseContractNotify=a,t.parseItemNotify=u,t.fetchMoreData=c,t.fetchUnreadCount=l;var f=n(8),s=n(53),d=n(2),p="id",y="notify",h=10,_=function(e){return"NOTIFY.ACTION."+e},m=_("FETCHING"),b=_("FETCHEDUNREAD"),v=_("FETCHED"),T=_("FETCHEDMORE"),g=_("RESET"),E=_("RESET_RECURSIVE_TIMES"),C=10,O=t.TYPE_CONTRACT=1,P=t.TYPE_ACTIVITY=0,w=t.TYPE_ITEM=4,j=t.TYPE_SYSTEM=6,N=t.TYPE_WISH=7,R=(t.CONTENT_TYPE_NONE=0,t.CONTENT_TYPE_WEB=1,t.CONTENT_TYPE_ITEM=2),M=(t.reset=function(){return{type:g}},function(e,t){return{type:m,fetchType:e,expireFlag:t}}),k=function(e){return{type:b,unreadCount:e}},x=function(e,t,n,r){return{type:v,records:e,isPaginable:t,index:n,lastReadTime:r}},I=function(e){return{type:T,records:e}},S=function(){return{type:E}},Y={expireFlag:null,isPaginable:!0,isFetching:!1,unreadCount:{CONTRACT:0,ACTIVITY:0,SYSTEM:0,ITEM:0},size:h,records:[],fetchType:0,index:0,lastReadTime:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments[1];switch(t.type){case m:return Object.assign({},e,{expireFlag:t.expireFlag,fetchType:t.fetchType,isFetching:!0});case b:return Object.assign({},e,{unreadCount:t.unreadCount});case v:return Object.assign({},e,{isFetching:!1,records:t.records,isPaginable:t.isPaginable,index:t.index,lastReadTime:t.lastReadTime});case T:return Object.assign({},e,{isFetching:!1,isPaginable:t.records.length%e.size==0,records:e.records.concat(t.records),index:e.index+t.records.length});case E:return Object.assign({},e,{recursiveTimes:0});case g:return Y;default:return e}}},2173:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),f=n(3),s=r(f),d=n(1921),p=r(d),y=n(1551),h=r(y),_=n(1560),m=r(_),b=n(1924),v=r(b),T=n(1923),g=r(T),E=n(2025),C=r(E),O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatchUnreadCount()}},{key:"componentWillUnmount",value:function(){this.props.dispatchReset()}},{key:"render",value:function(){var e=this.props.notify,t=e.unreadCount,n=e.isFetching,r=e.records,o=e.isPaginable;return l.default.createElement(g.default,{titleText:"通知"},l.default.createElement(v.default,{navs:p.default.navs,unreads:t}),l.default.createElement(h.default,{minHeight:500,noDataText:!1===n&&0===r.length?"尚未收到活動快報":null,isInitialFetching:n&&0===r.length},l.default.createElement(m.default,{isPaginable:o,isFetching:n,loadMore:this.props.dispatchMore},r.map(function(e){return l.default.createElement(C.default,{key:e.id,type:e.type,contentType:e.contentType,url:e.url,message:e.message,createTime:e.createTime,isRead:e.isRead})}))))}}]),t}(l.default.Component);O.propTypes={dispatchUnreadCount:s.default.func.isRequired,dispatchReset:s.default.func.isRequired,dispatchMore:s.default.func.isRequired,notify:s.default.shape({isFetching:s.default.bool}).isRequired},t.default=O}});