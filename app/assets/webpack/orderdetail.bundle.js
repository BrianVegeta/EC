webpackJsonp([41],{1416:function(e,t,n){"use strict";function r(e){return function(t,n){t(y()),(0,a.asyncXhrAuthedPost)("/ajax/get_order.json",{cid:e},n()).then(function(r){t(b(r));var o=r.type,c=r.owneruid,l=r.lesseeuid,u=r.contractstage;(0,a.asyncXhrAuthedPost)("/ajax/user_info.json",{isShowItem:!1,uid:c},n()).then(function(e){t(v(e))}),(0,a.asyncXhrAuthedPost)("/ajax/user_info.json",{isShowItem:!1,uid:l},n()).then(function(e){t(g(e))}),(0,a.asyncXhrAuthedPost)("/ajax/send_read.json",{cid:e,type:"ME_READ"},n()),u<4?t((0,i.asyncCheckReady)()):(0,a.asyncXhrAuthedPost)("/ajax/get_order_logs.json",{cid:e},n()).then(function(e){t(w(e))}),u>1e3&&u<3e3&&(0,a.asyncXhrAuthedPost)("/ajax/get_sue_report.json",{cid:e},n()).then(function(e){t(O(e))}),"ITEM"===o&&(t(_()),(0,a.asyncXhrAuthedPost)("/ajax/get_order_images.json",{cid:e},n()).then(function(e){t(E(e))}))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=void 0,t.fetchOrder=r;var a=n(7),i=n(336),o=function(e){return"ORDER.DETAIL."+e},c=o("FETCHING"),l=o("FETCHING_IMAGES"),u=o("FETCHED_ORDER"),s=o("FETCHED_OWNER"),d=o("FETCHED_LESSEE"),f=o("FETCHED_IMAGES"),p=o("FETCHED_LOGS"),m=o("FETCHED_SUE_DETAIL"),h=o("RESET"),y=function(){return{type:c}},_=function(){return{type:l}},b=function(e){return{type:u,order:e}},v=function(e){return{type:s,userprofile:e}},g=function(e){return{type:d,userprofile:e}},E=function(e){return{type:f,images:e}},w=function(e){return{type:p,logs:e}},O=function(e){return{type:m,sueDetail:e}},k=(t.reset=function(){return{type:h}},{isFetchingOwner:!1,isFetchingLessee:!1,isFetchingOrder:!1,isFetchingImages:!1,isFetchingLog:!1,isFetchingSue:!1,ownerProfile:null,lesseeProfile:null,sueDetail:null,order:null,logs:[],images:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments[1];switch(t.type){case c:return Object.assign({},e,{isFetchingOrder:!0,isFetchingOwner:!0,isFetchingLessee:!0});case u:return Object.assign({},e,{isFetchingOrder:!1,isFetchingOwner:!0,isFetchingLessee:!0,order:t.order});case s:return Object.assign({},e,{isFetchingOwner:!1,ownerProfile:t.userprofile.user_profile});case d:return Object.assign({},e,{isFetchingLessee:!1,lesseeProfile:t.userprofile.user_profile});case l:return Object.assign({},e,{isFetchingImages:!0});case f:return Object.assign({},e,{isFetchingImages:!1,images:{beforeShip:t.images.OWNER_SEND,afterShip:t.images.LESSEE_RECEIVE,beforeReturn:t.images.LESSEE_SEND,afterReturn:t.images.OWNER_RECEIVE}});case p:return Object.assign({},e,{isFetchingLogs:!1,logs:t.logs});case m:return Object.assign({},e,{isFetchingSue:!1,sueDetail:t.sueDetail});case h:return k;default:return e}}},1465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=n(207),i=n(40),o=n(2149),c=n(2146),l=function(e){return e&&e.__esModule?e:{default:e}}(c),u=n(1416),s=function(e){return{environment:e.environment,orderdetail:e.orderdetail,auth:e.auth,personalBankInfo:e.personalBankInfo}},d=function(e,t){var n=t.cid;e((0,u.reset)()),e((0,o.resetAction)()),e((0,u.fetchOrder)(n))},f=function(e,t){var n=t.params,r=function(t){return e((0,i.popupBankInfoSetup)({password:t}))},c=function(){e((0,i.popupAccessCheck)({onChecked:r}))};return{dispatch:e,dispatchAddToChatRoom:function(t){var n=t.uid,r=t.name,i=t.picture;return e((0,a.addToChatRoom)({uid:n,name:r,picture:i}))},dispatchBankSetup:c,dispatchPopupScore:function(t,r,a,c,l){return e((0,i.popupScoreRating)({isView:t,targetName:r,targetScore:a,targetComment:c,targetUrl:l,onScore:function(t,r){e((0,o.doScore)(n.cid,t,r)).then(function(){return d(e,n)}).catch(function(e){alert(e)})}}))},dispatchRecords:function(){return e((0,u.fetchOrder)(n.cid))},dispatchReset:function(){return e((0,u.reset)())},dispatchResetAction:function(){return e((0,o.resetAction)())},dispatchAccept:function(){e((0,o.doAccept)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchCancel:function(){e((0,o.doCancel)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchReject:function(){e((0,o.doReject)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchPaymentInfo:function(){var t={};e((0,i.popupATMBank)(t)),e((0,o.doATMPayment)(n.cid))},dispatchPaymentCreditCard:function(){e((0,o.doCreditCardPayment)(n.cid)).catch(function(e){alert(e)})},dispatchShipGoods:function(){e((0,o.doShipGoods)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchReturn:function(){e((0,o.doReturn)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchReceiveConfirm:function(){e((0,o.doReceiveConfirm)(n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchEndService:function(){e((0,o.doEndOrder)("SERVICE",n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})},dispatchEndSpace:function(){e((0,o.doEndOrder)("SPACE",n.cid)).then(function(){return d(e,n)}).catch(function(e){alert(e)})}}};t.default=(0,r.connect)(s,f)(l.default)},1660:function(e,t,n){"use strict";function r(e){switch(e){case 1:return"建立訂單時間";case 4:return"訂單成立時間";case 5:return"付款時間";case 11:return"完成時間";default:return""}}function a(e,t){var n="",r="";switch(e){case 1:case 2:n="請同意預訂單",r="請在"+(0,f.formatDate)(t)+"出貨前同意預訂單，逾時將自動取消。";break;case 3:n="待對方修改預訂單",r="在對方修改後，您才能進行同意。";break;case 4:n="待對方付款",r="完成付款後，您將會收到信箱以及推播通知。";break;case 5:n="待出貨",r="請於"+(0,f.formatDateForOrder)(t)+"前安排出貨，為了保障您的權益，出貨前建議先拍下物品的狀態";break;case 6:case 7:n="等待對方收貨",r="";break;case 8:n="交易進行中",r="";break;case 9:n="訂單已結束，等待對方寄還",r="提醒您，當對方確認寄還後，您將會收到推播以及email通知。";break;case 10:n="對方已寄還",r="對方已將物品寄還。";break;case 11:n="已完成",r="對方已將物品寄還。";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function i(e,t){var n="",r="";switch(e){case 1:case 2:n="等待對方同意",r="在對方同意您的預訂後您才能進行付款。";break;case 3:n="待您修改預訂單",r="在您修改後，對方才可同意。";break;case 4:n="尚未付款",r="請在"+(0,f.formatDate)(t)+"前完成付款，逾時將自動取消。";break;case 5:n="待對方出貨",r="您已成功付款，我們會通知對方進行出貨。";break;case 6:case 7:n="對方已出貨",r="";break;case 8:n="交易進行中",r="";break;case 9:n="待寄還",r="出貨時建議將物品拍照，拍照記錄能保障您的交易安全。";break;case 10:n="已寄還，待對方收件",r="";break;case 11:n="已完成",r="交易完成！請給對方評價吧！";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function o(e,t){var n="",r="";switch(e){case 1:case 2:n="請同意預訂單",r="請在"+(0,f.formatDateForOrder)(t)+"前同意預訂單，逾時將自動取消。";break;case 3:n="待對方修改預訂單",r="在對方修改後，您才能進行同意";break;case 4:n="待對方付款",r="完成付款後，您將會收到信箱以及推播通知。";break;case 5:case 6:case 7:n="等待交易開始",r="將在"+(0,f.formatDateForOrder)(t)+"開始";break;case 8:case 9:case 10:n="交易進行中",r="";break;case 11:n="已完成",r="交易完成！請給對方評價吧！";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function c(e,t){var n="",r="";switch(e){case 1:case 2:n="請同意預訂單",r="在對方同意您的預訂後您才能進行付款。";break;case 3:n="待您修改預訂單",r="在您修改後，對方才可同意。";break;case 4:n="尚未付款",r="請在"+(0,f.formatDate)(t)+"前完成付款，逾時將自動取消。";break;case 5:case 6:case 7:n="等待交易開始",r="將在"+(0,f.formatDateForOrder)(t)+"開始";break;case 8:case 9:case 10:n="交易進行中",r="";break;case 11:n="已完成",r="交易完成！請給對方評價吧！";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function l(e,t){var n="",r="";switch(e){case 1:case 2:n="請同意預訂單",r="請在"+(0,f.formatDateForOrder)(t)+"前同意預訂單，逾時將自動取消。";break;case 3:n="待對方修改預訂單",r="在對方修改後，您才能進行同意";break;case 4:n="待對方付款",r="完成付款後，您將會收到信箱以及推播通知。";break;case 5:case 6:case 7:n="等待交易開始",r="將在"+(0,f.formatDateForOrder)(t)+"開始";break;case 8:case 9:case 10:n="交易進行中",r="";break;case 11:n="已完成",r="交易完成！請給對方評價吧！";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function u(e,t){var n="",r="";switch(e){case 1:case 2:n="請同意預訂單",r="在對方同意您的預訂後您才能進行付款。";break;case 3:n="待您修改預訂單",r="在您修改後，對方才可同意。";break;case 4:n="尚未付款",r="請在"+(0,f.formatDate)(t)+"前完成付款，逾時將自動取消。";break;case 5:case 6:case 7:n="等待交易開始",r="將在"+(0,f.formatDateForOrder)(t)+"開始";break;case 8:case 9:case 10:n="交易進行中",r="";break;case 11:n="已完成",r="交易完成！請給對方評價吧！";break;case 12:case 13:n="已評分",r="您已完成評價，謝謝您使用ShareApp！"}return{title:n,text:r}}function s(e,t,n){var r="",a="";switch(e){case 1:case 2:case 3:case 4:r="待對方付款",a="完成付款後，您將會收到信箱以及推播通知。";break;case 5:r="待出貨",a="對方已付款，請您盡快出貨";break;case 6:case 7:t?n?(r="已評分",a="您已完成評價，謝謝您使用ShareApp！"):(r="已完成",a="交易完成！請給對方評價吧！"):(r="等待對方收貨",a="請與對方確認貨是否送達");break;case 8:case 9:case 10:case 11:case 12:case 13:r="已評分",a="您已完成評價，謝謝您使用ShareApp！"}return{title:r,text:a}}function d(e,t,n){var r="",a="";switch(e){case 1:case 2:case 3:case 4:r="尚未付款",a="請在三天內完成付款，逾時將自動取消。";break;case 5:r="待對方出貨",a="您已成功付款，我們會通知對方進行出貨。";break;case 6:case 7:t?n?(r="已評分",a="您已完成評價，謝謝您使用ShareApp！"):(r="已完成",a="交易完成！請給對方評價吧！"):(r="對方已出貨",a="到貨後，請告訴對方您已收到貨");break;case 8:case 9:case 10:case 11:case 12:case 13:r="已評分",a="您已完成評價，謝謝您使用ShareApp！"}return{title:r,text:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.generateContractLog=r,t.generateOwnerItemString=a,t.generateLesseeItemString=i,t.generateOwnerServiceString=o,t.generateLesseeServiceString=c,t.generateOwnerSpaceString=l,t.generateLesseeSpaceString=u,t.generateOwnerUsedItemString=s,t.generateLesseeUsedItemString=d;var f=n(14)},1675:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateService=void 0;var c=n(24),l=r(c),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),d=r(s),f=n(3),p=r(f),m=n(130),h=n(15),y=r(h),_=n(5),b=r(_),v=n(1741),g=r(v),E=n(1705),w=n(1704),O=r(w),k=y.default.bind(g.default),S=p.default.shape({text:p.default.string.isRequired,amount:p.default.number.isRequired}),C=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.priceDetail,r=t.depositDetail,a=t.couponDetail,i=t.discountDetail,o=t.total,c=!(0,l.default)(n,e.priceDetail),u=!(0,l.default)(r,e.depositDetail),s=!(0,l.default)(a,e.couponDetail),d=!(0,l.default)(i,e.discountDetail),f=!(0,l.default)(o,e.total);return!!c||(!!u||(!!s||(!!d||!!f)))}},{key:"renderPriceWithDiscounts",value:function(e){var t=e.priceDetail,n=e.discountDetail,r=this.constructor,a=r.renderDiscount,i=r.renderPrice;return n?a(t,n):i(t)}},{key:"renderDeposit",value:function(e){var t=e.depositDetail;return t?this.constructor.renderDetail(t):null}},{key:"renderCoupon",value:function(e){var t=e.couponDetail;if(!t)return null;return this.constructor.renderDetail(t,!0)}},{key:"render",value:function(){var e=this.props.total;return d.default.createElement(E.Container,null,this.renderPriceWithDiscounts(this.props),this.renderDeposit(this.props),this.renderCoupon(this.props),d.default.createElement(E.ConclusionDetail,{className:"clear"},d.default.createElement(E.ConclusionLabel,{highlight:!0},"總計"),d.default.createElement(E.ConclusionPrice,{highlight:!0},(0,m.formatCurrency)(e,"NTD "))))}}],[{key:"renderPrice",value:function(e){var t=e.text,n=e.amount,r=(0,m.formatCurrency)(n,"");return d.default.createElement("div",{className:"clear "+k("detail-container")},d.default.createElement("span",{styleName:"label"},t),d.default.createElement("span",{styleName:"price"},d.default.createElement("span",{styleName:"high-light"},r)))}},{key:"renderDiscount",value:function(e,t){var n=(0,m.formatCurrency)(e.amount,""),r=(0,m.formatCurrency)(t.amount,"");return d.default.createElement("div",{className:"clear "+k("detail-container")},d.default.createElement("span",{styleName:"label"},d.default.createElement("span",{styleName:"abandon"},e.text),d.default.createElement("span",null," ",t.text)),d.default.createElement("span",{styleName:"price"},d.default.createElement("span",{styleName:"abandon"},n),d.default.createElement("span",{styleName:"high-light"}," ",r)))}},{key:"renderDetail",value:function(e){var t=e.text,n=e.amount,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,m.formatCurrency)(n,"");return d.default.createElement("div",{className:"clear "+k("detail-container")},d.default.createElement("span",{styleName:"label"},t),d.default.createElement("span",{className:k("price",{discounted:r})},a))}}]),t}(d.default.Component);C.defaultProps={priceDetail:null,depositDetail:null,couponDetail:null,discountDetail:null},C.propTypes={priceDetail:S,depositDetail:S,couponDetail:S,discountDetail:S,total:p.default.number.isRequired},t.calculateService=O.default,t.default=(0,b.default)(C,g.default)},1704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),a=n(130),i=n(519),o=function(e,t){return{text:e,amount:t}},c=function(e,t){var n=e.leasestart,c=e.leaseend,l=e.unit,u=e.price;switch(t){case i.CHARGE_TYPE_FIX:return o("價格 "+(0,a.formatCurrency)(u,""),u);case i.CHARGE_TYPE_DAY:var s=n&&c?(0,r.rangeDiff)(n,c,!0):1;return o("價格 "+(0,a.formatCurrency)(u,"")+" x "+s+"天",u*s);case i.CHARGE_TYPE_COUNT:return o("價格 "+(0,a.formatCurrency)(u,"")+" x "+l+"個（件）",u*l);case i.CHARGE_TYPE_MONTH:var d=n&&c?(0,r.monthDiff)(n,c,!0):1;return o("價格 "+(0,a.formatCurrency)(u,"")+" x "+d+"月",u*d);default:throw new Error("SERVICE WRONG TYPE")}},l=function(e){var t=e.deposit;return t?o("押金",t):null},u=function(e){var t=e.couponOffset;return t?o("折價券",t):null},s=function(e){var t=e.discounts;if(0===t.length)return null;var n=t[0].discount;return o("優惠價 "+(0,a.formatCurrency)(n,""),n)};t.default=function(e){var t=e.calculate_charge_type,n=e.price,r=e.deposit,a=e.discounts,i=e.leasestart,o=e.leaseend,d=e.unit,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p={leasestart:i,leaseend:o,unit:d||1,price:n},m=c(p,t),h=s({discounts:a}),y=h?h.amount:m.amount,_=l({deposit:r}),b=_?_.amount:0,v=u({couponOffset:f}),g=v?v.amount:0;return{priceDetail:m,depositDetail:_,couponDetail:v,discountDetail:h,total:y+Math.max(b-g,0)}}},1705:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ConclusionPrice=t.Price=t.ConclusionLabel=t.Label=t.ConclusionDetail=t.DetailContainer=t.Container=void 0;var i=a(["\n  margin-bottom: 0;\n"],["\n  margin-bottom: 0;\n"]),o=a(["\n  font-weight: 600;\n  color: ",";\n"],["\n  font-weight: 600;\n  color: ",";\n"]),c=a(["\n  color: ",";\n  font-weight: 600;\n  font-size: 1.2em;\n  line-height: 1.4em;\n"],["\n  color: ",";\n  font-weight: 600;\n  font-size: 1.2em;\n  line-height: 1.4em;\n"]),l=n(52),u=r(l),s=n(317),d=r(s),f=(t.Container=u.default.div.withConfig({displayName:"styles__Container",componentId:"s1fbq7kb-0"})(["background-color:#F5FAFA;padding:25px;"]),t.DetailContainer=u.default.div.withConfig({displayName:"styles__DetailContainer",componentId:"s1fbq7kb-1"})(["font-size:1em;line-height:1.2em;margin-bottom:20px;"])),p=(t.ConclusionDetail=f.extend(i),t.Label=u.default.span.withConfig({displayName:"styles__Label",componentId:"s1fbq7kb-2"})(["color:",";float:left;"],d.default.middleBlack)),m=(t.ConclusionLabel=p.extend(o,d.default.blackColor),t.Price=u.default.span.withConfig({displayName:"styles__Price",componentId:"s1fbq7kb-3"})(["color:",";"," float:right;"],function(e){return e.extra?d.default.colorDanger:d.default.blackColor},function(e){return e.del&&"text-decoration: line-through;"}));t.ConclusionPrice=m.extend(c,d.default.primaryColor)},1741:function(e,t){e.exports={"detail-container":"BillingDetail_detail-container_1T1DC",label:"BillingDetail_label_2lU6T",abandon:"BillingDetail_abandon_3Tyn_",discounted:"BillingDetail_discounted_16OTR",price:"BillingDetail_price_2GoQG","high-light":"BillingDetail_high-light_rzINI"}},1985:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),s=n(3),d=r(s),f=n(52),p=r(f),m=n(317),h=r(m),y=n(132),_=r(y),b=p.default.div.withConfig({displayName:"MiniMap__Container",componentId:"s1681r3i-0"})(["position:relative;border-radius:5px;background-color:#FFFFFF;border:1px solid ",";"],h.default.placeholder),v=p.default.div.withConfig({displayName:"MiniMap__Cover",componentId:"s1681r3i-1"})(["width:120px;height:120px;float:left;"]),g=p.default.div.withConfig({displayName:"MiniMap__Content",componentId:"s1681r3i-2"})(["margin-left:120px;color:",";padding:15px;"],h.default.blackColor),E=p.default.div.withConfig({displayName:"MiniMap__CidNumberText",componentId:"s1681r3i-3"})(["color:",";font-size:16px;font-weight:200;"],h.default.middleBlack),w=p.default.div.withConfig({displayName:"MiniMap__ItemNameText",componentId:"s1681r3i-4"})(["color:",";font-size:18px;padding-top:15px;font-weight:300;"],h.default.blackColor),O=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.cover,n=e.cidNumber,r=e.itemName;return u.default.createElement(b,{className:"clear"},u.default.createElement(v,null,u.default.createElement(_.default,{src:t,style:{borderBottomLeftRadius:4,borderTopLeftRadius:4}})),u.default.createElement(g,null,u.default.createElement(E,null,n),u.default.createElement(w,null,r)))}}]),t}(u.default.Component);O.propTypes={cover:d.default.string.isRequired,cidNumber:d.default.string.isRequired,itemName:d.default.string.isRequired},t.default=O},2015:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=r(i),c=n(29),l=r(c),u=function(e){return o.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m20 19.1q1.7 0 2.9-1.2t1.2-2.9-1.2-2.9-2.9-1.2-2.9 1.2-1.2 2.9 1.2 2.9 2.9 1.2z m0-15.7q4.8 0 8.2 3.4t3.4 8.2q0 2.4-1.2 5.5t-2.9 5.9-3.4 5.1-2.8 3.8l-1.3 1.3q-0.5-0.5-1.2-1.4t-2.9-3.6-3.5-5.2-2.8-5.8-1.2-5.6q0-4.8 3.4-8.2t8.2-3.4z"})))};t.default=u,e.exports=t.default},2026:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=r(i),c=n(29),l=r(c),u=function(e){return o.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m20.1 32.1v-24.2q-3.3 0-6.1 1.6t-4.4 4.4-1.6 6.1 1.6 6.1 4.4 4.4 6.1 1.6z m17.2-12.1q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"})))};t.default=u,e.exports=t.default},2144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),s=n(3),d=r(s),f=n(2026),p=r(f),m=n(5),h=r(m),y=n(1660),_=n(2263),b=r(_),v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"generateString",value:function(){var e=this.props,t=e.isOwner,n=e.type,r=e.contractstage,a=e.startDate;if(t)switch(n){case"ITEM":return(0,y.generateOwnerItemString)(r,a);case"SERVICE":return(0,y.generateOwnerServiceString)(r,a);case"SPACE":return(0,y.generateOwnerSpaceString)(r,a);case"USED_ITEM":return(0,y.generateOwnerUsedItemString)(r,a);default:return{title:"",text:""}}else switch(this.props.type){case"ITEM":return(0,y.generateLesseeItemString)(r,a);case"SERVICE":return(0,y.generateLesseeServiceString)(r,a);case"SPACE":return(0,y.generateLesseeSpaceString)(r,a);case"USED_ITEM":return(0,y.generateLesseeUsedItemString)(r,a);default:return{title:"",text:""}}}},{key:"render",value:function(){var e=this.generateString();return u.default.createElement("div",{styleName:"order_banner_bkg",className:"clear"},u.default.createElement("div",{styleName:"order_banner_title_content"},u.default.createElement("div",null,u.default.createElement(p.default,{styleName:"order_banner_icon",size:35})),u.default.createElement("div",{styleName:"order_banner_title"},e.title)),u.default.createElement("div",{styleName:"order_banner_body_content"},u.default.createElement("span",null,e.text)))}}]),t}(u.default.Component);v.propTypes={type:d.default.string.isRequired,contractstage:d.default.number.isRequired,startDate:d.default.number.isRequired,isOwner:d.default.bool.isRequired},t.default=(0,h.default)(v,b.default)},2145:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(105),l=r(c),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),d=r(s),f=n(13),p=r(f),m=n(5),h=r(m),y=n(2264),_=r(y),b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.children;return(0,l.default)(e)?null:d.default.createElement("div",{styleName:"container"},d.default.createElement("div",{className:"container"},e))}}]),t}(d.default.Component);b.propTypes={children:p.default.children.isRequired},t.default=(0,h.default)(b,_.default)},2146:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),s=n(3),d=r(s),f=n(23),p=n(2),m=n(2327),h=r(m),y=n(2015),_=r(y),b=n(1675),v=r(b),g=n(84),E=r(g),w=n(1985),O=r(w),k=n(573),S=r(k),C=n(14),j=n(1660),P=n(5),R=r(P),D=n(317),N=r(D),x=n(2267),I=r(x),T=n(2144),A=r(T),q=n(2147),M=r(q),B=n(2148),F=r(B),L=n(2145),U=r(L),z=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.dispatchRecords()}},{key:"componentWillUnmount",value:function(){this.props.dispatchReset()}},{key:"getPaymentAction",value:function(e){switch(e.paymenttype){case 4:return this.props.dispatchPaymentCreditCard;case 1:return this.props.dispatchPaymentInfo;default:return function(){}}}},{key:"generateDispatch",value:function(e){var t=e.type;return"SERVICE"===t?this.props.dispatchEndService:"SPACE"===t?this.props.dispatchEndSpace:function(){}}},{key:"parseDisplayInfo",value:function(){var e=this.props.orderdetail,t=e.order,n=e.lesseeProfile,r=e.ownerProfile,a=t.display,i=r?r.picture:null,o=n?n.picture:null,c=a.is_owner?o:i,l=a.is_owner?t.lessee_nick_name:t.owner_nick_name;l||(l="尚未設定");var u=a.is_owner?t.lesseeuid:t.owneruid,s=a.is_owner?t.lessee_real_name:t.owner_real_name;s||(s="尚未設定");var d=a.is_owner?t.lesseephone:t.ownerphone;d||(d="尚未設定");var f=a.is_owner?t.lessee_comment:t.owner_comment;f||(f="沒有留言備註");var p=a.is_owner?t.lesseescore:t.ownerscore;return p||(p="尚未評分"),{targetName:l,targetUid:u,targetRealName:s,targetPhone:d,targetUrl:c,targetComment:f,targetScore:p}}},{key:"generateEditAddress",value:function(e){var t=e.type,n=e.cid,r=e.pid;switch(t){case"ITEM":return function(){return f.browserHistory.push(p.reservationGoods.indexPath(r,n))};case"SERVICE":return function(){return f.browserHistory.push(p.reservationService.indexPath(r,n))};case"SPACE":return function(){return f.browserHistory.push(p.reservationSpace.indexPath(r,n))};default:return function(){}}}},{key:"renderOverdueRate",value:function(e,t){if(!e||e<=0)return null;var n=null==e?0:t*e/100;return u.default.createElement("div",{styleName:"section-content"},u.default.createElement("div",{styleName:"section-header"},"逾期金政策"),u.default.createElement("div",null,u.default.createElement("span",null,"逾期1天，將從押金扣除"),u.default.createElement("span",{style:{color:N.default.colorHeart}},"NTD$"+n),u.default.createElement("span",null,"，扣除的總金額則取決於逾期的天數做累加計算")),u.default.createElement("div",{styleName:"padding-40btm-style"}))}},{key:"renderCancelPolicys",value:function(e){return!e||e.length<=0?null:u.default.createElement("div",{styleName:"section-content"},u.default.createElement("div",{styleName:"section-header"},"退訂政策"),u.default.createElement("div",null,u.default.createElement("span",null,"開始租借前"),u.default.createElement("span",{style:{color:N.default.colorHeart}},e[0].advance_day),u.default.createElement("span",null,"天取消訂單，扣除"),u.default.createElement("span",{style:{color:N.default.colorHeart}},e[0].rate+"%"),u.default.createElement("span",null,"金額")),u.default.createElement("div",{styleName:"padding-40btm-style"}))}},{key:"renderRules",value:function(e){var t=e.rules;return!t||t.length<=0?null:u.default.createElement("div",{styleName:"section-content"},u.default.createElement("div",{styleName:"section-header"},"分享人守則"),u.default.createElement("div",null,t.map(function(e,t){return u.default.createElement("div",{key:e.describe+"_"+(t+1)},e)})),u.default.createElement("div",{styleName:"padding-40btm-style"}))}},{key:"renderSchedule",value:function(){var e=this.props.orderdetail,t=e.order,n=t.type,r=t.leasestart,a=t.leaseend,i=t.service_city,o=t.service_area,c=t.service_address,l=t.space_city,s=t.space_area,d=t.space_address;if("USED_ITEM"===n)return null;var f="",p="",m=null;switch(n){case"ITEM":f="使用時間";break;case"SERVICE":f="服務資訊",m=""+i+o+c,p="同意預定後才,顯示完整以上資訊";break;case"SPACE":f="空間資訊",m=""+l+s+d,p="同意預定後才,顯示完整以上資訊"}var y=(0,C.rangeDiff)(r,a,!0);return u.default.createElement("div",{styleName:"section-content",className:"clear"},u.default.createElement("div",{styleName:"section-header"},f),m&&u.default.createElement("div",null,u.default.createElement("div",{styleName:"mini-icon-style"},u.default.createElement(_.default,{size:30})),u.default.createElement("div",{styleName:"mini-icon-text-style"},"詳細地址："+m)),u.default.createElement("div",null,u.default.createElement("div",{styleName:"mini-icon-style"},u.default.createElement(h.default,{size:30})),u.default.createElement("div",{styleName:"mini-icon-text-style"},"使用日期："+(0,C.formatDate)(r)+"~"+(0,C.formatDate)(a)+"(共"+y+"天)")),u.default.createElement("div",{styleName:"mini-icon-hint-style"},p))}},{key:"renderImages",value:function(){var e=this.props.orderdetail,t=e.images;if(!t)return null;var n=function(e){return e&&e.length>0},r=t.beforeShip,a=t.afterShip,i=t.beforeReturn,o=t.afterReturn;return u.default.createElement("div",{styleName:"section-content",className:"clear"},u.default.createElement("div",{styleName:"section-header"},"拍照存證"),n(r)&&u.default.createElement("div",{style:{marginLeft:20}},u.default.createElement("div",null,"出貨前"),u.default.createElement(S.default,{images:r})),n(a)&&u.default.createElement("div",{style:{marginLeft:20}},u.default.createElement("div",null,"收貨後"),u.default.createElement(S.default,{images:a})),n(i)&&u.default.createElement("div",{style:{marginLeft:20}},u.default.createElement("div",null,"還貨前"),u.default.createElement(S.default,{images:i})),n(o)&&u.default.createElement("div",{style:{marginLeft:20}},u.default.createElement("div",null,"還貨後"),u.default.createElement(S.default,{images:o})))}},{key:"renderShippingDetail",value:function(e){var t=e.type,n=e.send_type,r=e.return_type;if("ITEM"!==t)return null;var a=!1,i="",o="",c="",l="";switch(n){case"0":i="面交",o="";break;case"1":i="自行寄送",a=!0;break;default:i="",o=""}switch(r){case"0":c="面交",l="";break;case"1":c="自行寄送",a=!0;break;default:c="其他",l=""}return u.default.createElement("div",{styleName:"section-content"},u.default.createElement("div",{styleName:"section-header"},"物流方式"),u.default.createElement("div",null,u.default.createElement("div",{style:{position:"relative"}},u.default.createElement("div",{styleName:"half-width-style"},"到貨方式: "+i),u.default.createElement("div",{styleName:"half-width-style"},"還貨方式: "+c)),a&&u.default.createElement("div",{style:{position:"relative",paddingTop:10}},u.default.createElement("div",{styleName:"half-width-style"},o),u.default.createElement("div",{styleName:"half-width-style"},l))),u.default.createElement("div",{styleName:"padding-40btm-style"}))}},{key:"renderAcceptHint",value:function(e){return 1!==e.contractstage?null:u.default.createElement("div",{style:{paddingBottom:50,paddingTop:20,fontSize:16,fontWeight:400}},"備註：請盡快同意！")}},{key:"renderBankInfo",value:function(e){if(e.contractstage>4)return null;var t=this.props.personalBankInfo,n=t.isReady;return!1===t.isChecked?u.default.createElement("div",{style:{height:128}}):u.default.createElement("div",null,n?u.default.createElement("div",{style:{display:"inline-block",color:N.default.blackColor}},"設定銀行帳戶"):u.default.createElement("div",{style:{display:"inline-block",color:N.default.colorHeart}},"您尚未設定銀行帳戶喔！"),u.default.createElement("div",{style:{display:"inline-block",marginLeft:20}},u.default.createElement(E.default,{colorType:"greenBorder",size:"sm",width:120,content:"前往設定",onClick:this.props.dispatchBankSetup})),u.default.createElement("div",{style:{color:N.default.placeholder,paddingTop:20,paddingBottom:50}},"當交易完成後，銀行會在每週一、三，將您的收入款項轉帳至您的銀行帳戶"))}},{key:"renderBanner",value:function(e){var t=this.props,n=t.orderdetail,r=t.dispatch,a=n.sueDetail,i=n.order,o=i.contractstage,c=i.cid,l=i.type,s=i.leasestart,d=i.create_time,f="USED_ITEM"===l?d:s;return o<1e3?u.default.createElement("div",{styleName:"banner_style"},u.default.createElement(A.default,{cid:c,type:l,contractstage:o,isOwner:e,startDate:f,dispatch:r})):o>1e3&&o<3e3&&a?u.default.createElement("div",{styleName:"banner_style"},u.default.createElement(M.default,{sueDetail:a,cid:c,contractstage:o,dispatch:r})):null}},{key:"renderMiniMap",value:function(e){var t=e.img1,n=e.cid_no,r=e.pname;return u.default.createElement("div",{styleName:"top_40px_style"},u.default.createElement(O.default,{cover:""+t,cidNumber:"合約編號："+n,itemName:""+r}))}},{key:"renderButtonStyle",value:function(e,t,n){return e?u.default.createElement(E.default,{colorType:"greenBorder",size:"sm",width:"auto",style:{padding:"15px 28px",marginRight:20},content:n,onClick:t}):null}},{key:"renderRejectStyle",value:function(e,t){return e?u.default.createElement("div",{style:{display:"inline-block",width:420,marginLeft:20,verticalAlign:"middle"}},u.default.createElement("div",null,u.default.createElement("span",null,"對於此預訂單有問題嗎？您可以提出修改並私訊享用人，請對方做修改喔!"),u.default.createElement("button",{style:{color:N.default.activeColor,padding:0,border:"none",background:"none"},onClick:t},"提出修改預訂單"))):null}},{key:"renderLog",value:function(){var e=this.props.orderdetail.logs;return!e||e.length<1?null:u.default.createElement("div",{styleName:"log-container"},e.map(function(e,t){var n=(0,j.generateContractLog)(e.contractstage);return""===n?null:u.default.createElement("div",{styleName:"log-content",key:""+(t+1)},u.default.createElement("span",{styleName:"log-text"},n),u.default.createElement("span",{styleName:"log-time"},(0,C.formatDate)(e.create_time)))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.orderdetail,r=t.dispatch,a=t.dispatchAddToChatRoom,i=n.order;if(null==i)return null;var o=i.display,c=this.parseDisplayInfo();return u.default.createElement("div",null,u.default.createElement("div",{styleName:"container"},u.default.createElement("div",{styleName:"header"},u.default.createElement("h1",{styleName:"title"},u.default.createElement("span",{styleName:"text"},"訂單詳情"))),u.default.createElement("div",{styleName:"section-content"},this.renderBanner(o.is_owner),this.renderMiniMap(i),u.default.createElement("div",{styleName:"top_40px_style"},u.default.createElement(F.default,{cid:i.cid,name:c.targetName,uid:c.targetUid,contractstage:i.contractstage,dispatchAddToChatRoom:a,dispatch:r,realname:c.targetRealName,imgUrl:c.targetUrl,phone:c.targetPhone}))),this.renderSchedule(),this.renderImages(),this.renderShippingDetail(i),u.default.createElement("div",{styleName:"section-content"},u.default.createElement("div",{styleName:"section-header"},"交易明細"),u.default.createElement(v.default,(0,b.calculateService)(i,null)),this.renderAcceptHint(i),this.renderBankInfo(i)),this.renderRules(i),this.renderCancelPolicys(i.renderCancelPolicys),this.renderOverdueRate(i.overdue_rate,i.deposit),this.renderLog()),u.default.createElement(U.default,null,this.renderButtonStyle(o.can_cancel,this.props.dispatchCancel,o.is_owner?"目前無法接單":"取消訂單"),this.renderButtonStyle(o.can_accept,this.props.dispatchAccept,"我同意此預訂"),this.renderButtonStyle(o.can_edit,this.generateEditAddress(i),"修改訂單"),this.renderButtonStyle(o.can_pay,this.getPaymentAction(i),"付款"),this.renderButtonStyle(o.can_camera,function(){},"拍照"),this.renderButtonStyle(o.can_ship,this.props.dispatchShipGoods,"確認出貨"),this.renderButtonStyle(o.can_ship_confirm,function(){return e.props.dispatchReceiveConfirm},"確認收貨"),this.renderButtonStyle(o.can_return,this.props.dispatchReturn,"確認還貨"),this.renderButtonStyle(o.can_return_confirm,function(){return e.props.dispatchReceiveConfirm},"確認收貨"),this.renderButtonStyle(o.can_owner_end,this.generateDispatch(i),"確認結束"),this.renderButtonStyle(o.can_lessee_end,this.generateDispatch(i),"確認結束"),this.renderButtonStyle(o.can_score,function(){return e.props.dispatchPopupScore(!1,c.targetName,null,null,c.targetUrl)},"評價"),this.renderButtonStyle(o.view_score,function(){e.props.dispatchPopupScore(!0,c.targetName,c.targetScore,c.targetComment,c.targetUrl)},"查看評價"),this.renderRejectStyle(o.can_reject,this.props.dispatchReject)))}}]),t}(u.default.Component);z.defaultProps={personalBankInfo:null,sueDetail:null,logs:[]},z.propTypes={orderdetail:d.default.shape({order:d.default.Object,userprofile:d.default.Object}).isRequired,personalBankInfo:d.default.shape({isReady:d.default.bool,isChecked:d.default.bool}),sueDetail:d.default.shape({u_no:d.default.string,type:d.default.string,status:d.default.number,img1:d.default.string,img2:d.default.string,img3:d.default.string,defender_name:d.default.string,suer_name:d.default.string,case_end:d.default.number,create_time:d.default.number}),logs:d.default.arrayOf(d.default.shape({contractstage:d.default.number,create_time:d.default.number})),dispatch:d.default.func.isRequired,dispatchAddToChatRoom:d.default.func.isRequired,dispatchBankSetup:d.default.func.isRequired,dispatchPopupScore:d.default.func.isRequired,dispatchRecords:d.default.func.isRequired,dispatchReset:d.default.func.isRequired,dispatchAccept:d.default.func.isRequired,dispatchCancel:d.default.func.isRequired,dispatchReject:d.default.func.isRequired,dispatchPaymentInfo:d.default.func.isRequired,dispatchPaymentCreditCard:d.default.func.isRequired,dispatchShipGoods:d.default.func.isRequired,dispatchReturn:d.default.func.isRequired,dispatchReceiveConfirm:d.default.func.isRequired,dispatchEndSpace:d.default.func.isRequired,dispatchEndService:d.default.func.isRequired},t.default=(0,R.default)(z,I.default)},2147:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),s=n(3),d=r(s),f=n(2026),p=r(f),m=n(5),h=r(m),y=n(84),_=r(y),b=n(40),v=n(2265),g=r(v),E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSueDetail=n.onSueDetail.bind(n),n}return o(t,e),c(t,[{key:"onSueDetail",value:function(){var e=this.props,t=e.cid,n=e.dispatch,r=e.sueDetail,a=Object.assign({},r,{cid:t});n((0,b.popupSueDetail)(a))}},{key:"render",value:function(){var e=this.props.contractstage,t={title:"",text:""};if(e>1e3&&e<3e3){e%100<11?(t.title="申訴中",t.text="您於 2017/04/14 AM10:38向GOGO提出申訴。雙方必須在14天內提出協議文件（雙方簽名、金額分配及簽署日期）寄到ShareApp郵政信箱，我們將依照協議後的結果進行撥款。"):t.title="申訴完成"}else t.title="合約已取消";return u.default.createElement("div",{styleName:"sue_banner_bkg",className:"clear"},u.default.createElement("div",{styleName:"sue_banner_title_content"},u.default.createElement("div",null,u.default.createElement(p.default,{styleName:"sue_banner_icon",size:35})),u.default.createElement("div",{styleName:"sue_banner_title"},t.title)),u.default.createElement("div",{styleName:"sue_banner_body_content"},u.default.createElement("span",null,t.text)),u.default.createElement("div",{style:{float:"right",margin:"15px 20px 15px 0px"}},u.default.createElement(_.default,{colorType:"transparent",size:"sm",width:130,content:"申訴詳情",onClick:this.onSueDetail})))}}]),t}(u.default.Component);E.propTypes={sueDetail:d.default.shape({u_no:d.default.string,type:d.default.string,status:d.default.string,sue_reason:d.default.string,img1:d.default.string,img2:d.default.string,img3:d.default.string,defender_name:d.default.string,suer_name:d.default.string,case_end:d.default.number,create_time:d.default.number}).isRequired,contractstage:d.default.number.isRequired,cid:d.default.number.isRequired,dispatch:d.default.func.isRequired},t.default=(0,h.default)(E,g.default)},2148:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),s=n(3),d=r(s),f=n(106),p=r(f),m=n(84),h=r(m),y=n(5),_=r(y),b=n(2),v=n(89),g=n(2266),E=r(g),w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSue=n.onSue.bind(n),n}return o(t,e),c(t,[{key:"onSue",value:function(){var e=this.props,t=e.cid,n=e.dispatch,r=b.orderDetail.sueFormPath(t);n((0,v.redirectToWithReferrer)(r))}},{key:"render",value:function(){var e=this.props,t=e.realname,n=e.phone,r=e.imgUrl,a=e.contractstage,i=e.uid,o=e.name,c=e.dispatchAddToChatRoom,l=a>4&&a<11;return u.default.createElement("div",{styleName:"boundary"},u.default.createElement("div",{styleName:"head-style"},u.default.createElement(p.default,{src:r})),u.default.createElement("div",{styleName:"board-style"},u.default.createElement("div",{styleName:"name-style"},"真實姓名："+t),u.default.createElement("div",{styleName:"phone-style"},"手機號碼："+n),u.default.createElement("div",{styleName:"panel-style"},u.default.createElement("div",{styleName:"hint-style"},"同意預訂後顯示"),u.default.createElement("div",{styleName:"btn-section"},u.default.createElement("div",{styleName:"btn-outer-style"},u.default.createElement(h.default,{colorType:"greenBorder",size:"sm",width:100,content:"私訊",onClick:function(){return c({uid:i,name:o,picture:r})}})),l&&u.default.createElement("div",{styleName:"btn-outer-style"},u.default.createElement(h.default,{colorType:"green",size:"sm",width:100,content:"申訴",onClick:this.onSue}))))))}}]),t}(u.default.Component);w.defaultProps={imgUrl:"",contractstage:0},w.propTypes={cid:d.default.number.isRequired,uid:d.default.string.isRequired,name:d.default.string.isRequired,realname:d.default.string.isRequired,phone:d.default.string.isRequired,imgUrl:d.default.string,contractstage:d.default.number,dispatchAddToChatRoom:d.default.func.isRequired,dispatch:d.default.func.isRequired},t.default=(0,_.default)(w,E.default)},2149:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"accept"));(0,y.asyncXhrAuthedPost)("/ajax/accept_order.json",{cid:e},n(),!0).then(function(){t(k(i)),r()}).catch(function(e){t(S("失敗")),a("失敗")})})}}function i(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"reject"));(0,y.asyncXhrAuthedPost)("/ajax/ship_item_goods.json",{cid:e},n(),!0).then(function(){t(k(i)),r()}).catch(function(e){t(S("失敗")),a("失敗")})})}}function o(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"reject"));(0,y.asyncXhrAuthedPost)("/ajax/return_item_goods.json",{cid:e},n(),!0).then(function(){t(k(i)),r()}).catch(function(e){t(S("失敗")),a("失敗")})})}}function c(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"reject"));(0,y.asyncXhrAuthedPost)("/ajax/receive_confirm.json",{cid:e},n(),!0).then(function(){t(k(i)),r()}).catch(function(e){t(S("失敗")),a("失敗")})})}}function l(e){return function(t,n){var r=Date.now();t(C(r,"cancel"));(0,y.asyncXhrAuthedPost)("/ajax/cancel_order.json",{cid:e},n(),!0).then(function(){t(k(r))}).catch(function(e){t(S("失敗")),reject("失敗")})}}function u(e,t,n){return function(r,a){return new Promise(function(i,o){var c=Date.now();r(C(c,"reject"));(0,y.asyncXhrAuthedPost)("/ajax/score_order.json",{cid:e,score:t,comment:n},a(),!0).then(function(){r(k(c)),i()}).catch(function(e){r(S("失敗")),o("失敗")})})}}function s(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"reject"));(0,y.asyncXhrAuthedPost)("/ajax/reject_order.json",{cid:e},n(),!0).then(function(){t(k(i)),r()}).catch(function(e){t(S("失敗")),a("失敗")})})}}function d(e,t){return function(n,r){return new Promise(function(a,i){var o=Date.now(),c="SERVICE"===e?"/ajax/end_service.json":"/ajax/end_space.json";n(C(o,"reject"));(0,y.asyncXhrAuthedPost)(c,{cid:t},r(),!0).then(function(){n(k(o)),a()}).catch(function(e){n(S("失敗")),i("失敗")})})}}function f(e){return function(t,n){return new Promise(function(a,i){var o=Date.now();t(C(o,"ccPay"));(0,y.asyncXhrAuthedPost)("/ajax/creditcard_payment.json",{cid:e},n(),!0).then(function(e){var n=e.redirect,i=r(e,["redirect"]);t(k(o)),j(n,i),a()}).catch(function(e){t(S("失敗")),i("失敗")})})}}function p(e){return function(t,n){return new Promise(function(r,a){var i=Date.now();t(C(i,"atmPay")),t((0,_.popupFetching)());(0,y.asyncXhrAuthedPost)("/ajax/get_paymentinfo.json",{cid:e},n(),!0).then(function(e){t((0,_.popupFetched)(e)),t(k(i)),r()}).catch(function(){t(S("失敗")),a("失敗")})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetAction=void 0;var m=n(157),h=function(e){return e&&e.__esModule?e:{default:e}}(m);t.doAccept=a,t.doShipGoods=i,t.doReturn=o,t.doReceiveConfirm=c,t.doCancel=l,t.doScore=u,t.doReject=s,t.doEndOrder=d,t.doCreditCardPayment=f,t.doATMPayment=p;var y=n(7),_=n(40),b=function(e){return"ORDER.ACTION."+e},v=b("LOCK"),g=b("REJECT"),E=b("FAILED"),w=b("RESET"),O=b("SET_ESUN_FORM"),k=function(e){return{type:g,requestId:e}},S=function(e){return{type:E,errMsg:e}},C=function(e,t){return{type:v,requestId:e,actionName:t}},j=(t.resetAction=function(){return{type:w}},function(e,t){var n=document.createElement("form");n.method="POST",n.action=e,(0,h.default)(t,function(e,t){var r=document.createElement("input");r.value=e,r.name=t,r.type="hidden",n.appendChild(r)}),document.body.appendChild(n),n.submit()}),P={lock:!1,curAction:"",requestId:0,success:!1,isErr:!1,errMsg:"",esunForm:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments[1];if(t.type===E)return Object.assign({},e,{lock:!1,isErr:!0,errMsg:"正在發送請求中...請勿動作"});if(!0===e.lock&&0!==t.requestId&&t.requestId!==e.requestId)return Object.assign({},e,{isErr:!0,errMsg:"正在發送請求中...請勿動作"});switch(t.type){case v:return Object.assign({},e,{lock:!0,isErr:!1,success:!1,errMsg:"",requestId:t.requestId,curAction:t.actionName});case g:return Object.assign({},e,{lock:!1,success:!0});case O:return Object.assign({},e,{esunForm:t.form});case w:return P;default:return e}}},2263:function(e,t){e.exports={order_banner_bkg:"Banner_order_banner_bkg_1Ghkn",order_banner_title_content:"Banner_order_banner_title_content_3LRuc",order_banner_icon:"Banner_order_banner_icon_2ufn0",order_banner_title:"Banner_order_banner_title_H1qan",order_banner_body_content:"Banner_order_banner_body_content_2AJPG"}},2264:function(e,t){e.exports={container:"BottomController_container_3Pd02"}},2265:function(e,t){e.exports={sue_banner_bkg:"SueBanner_sue_banner_bkg_tLf82",sue_banner_title_content:"SueBanner_sue_banner_title_content_2BQi2",sue_banner_icon:"SueBanner_sue_banner_icon_1vTED",sue_banner_title:"SueBanner_sue_banner_title_CWMyA",sue_banner_body_content:"SueBanner_sue_banner_body_content_28Kf5"}},2266:function(e,t){e.exports={boundary:"UserInfoBoard_boundary_M9XuQ","head-style":"UserInfoBoard_head-style_1Qb-c","board-style":"UserInfoBoard_board-style_30MQE","name-style":"UserInfoBoard_name-style_1_iWv","phone-style":"UserInfoBoard_phone-style_3xdlf","panel-style":"UserInfoBoard_panel-style_KwjLE","hint-style":"UserInfoBoard_hint-style_1e1Ml","btn-section":"UserInfoBoard_btn-section_wRaio","btn-outer-style":"UserInfoBoard_btn-outer-style_UCTqz"}},2267:function(e,t){e.exports={container:"components_container_2uXJ5",header:"components_header_3mhTA",title:"components_title_2kD24",text:"components_text_18p8m","section-content":"components_section-content_3vjcl","section-header":"components_section-header_olErA","section-sub-title":"components_section-sub-title_OAn_9","padding-40btm-style":"components_padding-40btm-style_1fqqs","mini-icon-style":"components_mini-icon-style_3v8ad","mini-icon-text-style":"components_mini-icon-text-style_1LEo7","mini-icon-hint-style":"components_mini-icon-hint-style_2i24e",banner_style:"components_banner_style_3w6Yy",top_40px_style:"components_top_40px_style_372Ri","half-width-style":"components_half-width-style_1GTWu","log-container":"components_log-container_WdOBE","log-content":"components_log-content_-cQ7G","log-text":"components_log-text_2fFum","log-time":"components_log-time_2c1w_"}},2327:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=r(i),c=n(29),l=r(c),u=function(e){return o.default.createElement(l.default,a({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m4.4 37.1h31.4v-22.8h-31.4v22.8z m8.5-27.1v-6.4q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v6.4q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m17.2 0v-6.4q0-0.3-0.2-0.5t-0.5-0.2h-1.5q-0.3 0-0.5 0.2t-0.2 0.5v6.4q0 0.3 0.2 0.5t0.5 0.2h1.5q0.3 0 0.5-0.2t0.2-0.5z m8.5-1.4v28.5q0 1.2-0.8 2.1t-2 0.8h-31.4q-1.2 0-2.1-0.9t-0.8-2v-28.5q0-1.2 0.8-2t2.1-0.9h2.8v-2.1q0-1.5 1.1-2.6t2.5-1h1.4q1.5 0 2.5 1.1t1.1 2.5v2.1h8.6v-2.1q0-1.5 1-2.6t2.5-1h1.5q1.4 0 2.5 1.1t1 2.5v2.1h2.9q1.1 0 2 0.9t0.8 2z"})))};t.default=u,e.exports=t.default}});