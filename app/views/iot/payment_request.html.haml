#request_page
  .board
    .title 線上繳款
    .blue-background
      .subtitle
        %span.subtitle-text 付款資訊
        %span.subtitle-hint 請先確認已下資訊是否正確再進行付款
      %table.table
        %tbody
          %tr
            %th{:width => "100"} 訂單編號：
            %td= @request.order_no
          %tr
            %th{:width => "100"} 商品名稱：
            %td= @request.product_desc
          %tr
            %th{:width => "100"} 商品介紹：
            %td= @request.product_desc
          %tr
            %th{:width => "100"} 付款商店：
            %td 收多易
          %tr
            %th{:width => "100"} 付款總金額：
            %td= @request.price_formatter
    .subtitle
      %span.subtitle-text 聯絡資訊
      %span.subtitle-hint 為了避免日後交易問題，我們需要請您註冊帳號，留下聯絡方式
      %table.table
        %tbody
          %tr
            %th{:width => "100"} 聯絡帳號：
            %td= @request.account
          %tr
            %th{:width => "100"} 聯絡人：
            %td= @request.user_name
          %tr
            %th{:width => "100"} 聯絡信箱：
            %td= @request.email
          %tr
            %th{:width => "100"} 聯絡手機：
            %td= @request.phone
      = form_for @request, as: :request, url: '/iot/sharepay/pay', method: 'post' do |f|
        = f.text_field :account_username, class: 'board-input'
        = f.text_field :account_pwd, class: 'board-input'
        = f.text_field :account_pwd_verify, class: 'board-input'
        = f.text_field :account_name, class: 'board-input'
        = f.text_field :account_phone, class: 'board-input'
        = f.text_field :account_email, class: 'board-input'
        = f.submit '付款', class: 'form-button'
        = render partial: 'payment', locals: { f: f }
:javascript
  function onLoginChg(selected) {
    var loginBoard = document.getElementById("login-board").classList;
    var createBoard = document.getElementById("create-board").classList;
    if (selected) {
      loginBoard.remove("board-visible");
      loginBoard.add("board-hidden");
      createBoard.remove("board-hidden");
      createBoard.add("board-visible");
    } else {
      loginBoard.remove("board-hidden");
      loginBoard.add("board-visible");
      createBoard.remove("board-visible");
      createBoard.add("board-hidden");
    }
  }
